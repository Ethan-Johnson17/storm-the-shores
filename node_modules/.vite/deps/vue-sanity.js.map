{
  "version": 3,
  "sources": ["../../object-assign/index.js", "../../vue-sanity/node_modules/rxjs/src/internal/util/isFunction.ts", "../../vue-sanity/node_modules/rxjs/src/internal/config.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/hostReportError.ts", "../../vue-sanity/node_modules/rxjs/src/internal/Observer.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/isArray.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/isObject.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/UnsubscriptionError.ts", "../../vue-sanity/node_modules/rxjs/src/internal/Subscription.ts", "../../vue-sanity/node_modules/rxjs/src/internal/symbol/rxSubscriber.ts", "../../vue-sanity/node_modules/rxjs/src/internal/Subscriber.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/canReportError.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/toSubscriber.ts", "../../vue-sanity/node_modules/rxjs/src/internal/symbol/observable.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/identity.ts", "../../vue-sanity/node_modules/rxjs/src/internal/util/pipe.ts", "../../vue-sanity/node_modules/rxjs/src/internal/Observable.ts", "../../vue-sanity/node_modules/rxjs/src/internal/operators/filter.ts", "../../vue-sanity/node_modules/rxjs/src/internal/operators/map.ts", "../../vue-sanity/node_modules/@sanity/client/lib/util/observable.js", "../../vue-sanity/node_modules/@sanity/client/lib/util/getSelection.js", "../../vue-sanity/node_modules/@sanity/client/lib/validators.js", "../../vue-sanity/node_modules/@sanity/client/lib/data/patch.js", "../../vue-sanity/node_modules/@sanity/client/lib/data/transaction.js", "../../vue-sanity/node_modules/@sanity/client/lib/data/encodeQueryString.js", "../../event-source-polyfill/src/eventsource.js", "../../vue-sanity/node_modules/@sanity/eventsource/browser.js", "../../vue-sanity/node_modules/@sanity/client/lib/util/pick.js", "../../vue-sanity/node_modules/@sanity/client/lib/util/defaults.js", "../../vue-sanity/node_modules/@sanity/client/lib/data/listen.js", "../../vue-sanity/node_modules/@sanity/client/lib/data/dataMethods.js", "../../vue-sanity/node_modules/@sanity/client/lib/datasets/datasetsClient.js", "../../vue-sanity/node_modules/@sanity/client/lib/projects/projectsClient.js", "../../vue-sanity/node_modules/@sanity/client/lib/http/queryString.js", "../../vue-sanity/node_modules/@sanity/client/lib/assets/assetsClient.js", "../../vue-sanity/node_modules/@sanity/client/lib/users/usersClient.js", "../../vue-sanity/node_modules/@sanity/client/lib/auth/authClient.js", "../../nano-pubsub/index.js", "../../vue-sanity/node_modules/get-it/src/util/middlewareReducer.js", "../../requires-port/index.js", "../../querystringify/index.js", "../../url-parse/index.js", "../../vue-sanity/node_modules/get-it/src/middleware/defaultOptionsProcessor.js", "../../vue-sanity/node_modules/get-it/src/middleware/defaultOptionsValidator.js", "../../same-origin/url-parser.js", "../../same-origin/index.js", "../../parse-headers/parse-headers.js", "../../vue-sanity/node_modules/get-it/src/request/browser/fetchXhr.js", "../../vue-sanity/node_modules/get-it/src/request/browser-request.js", "../../vue-sanity/node_modules/get-it/src/request/index.js", "../../vue-sanity/node_modules/get-it/src/index.js", "../../vue-sanity/node_modules/get-it/index.js", "../../vue-sanity/node_modules/get-it/src/util/global.js", "../../vue-sanity/node_modules/get-it/src/middleware/observable.js", "../../isobject/index.js", "../../is-plain-object/index.js", "../../vue-sanity/node_modules/get-it/src/middleware/jsonRequest.js", "../../vue-sanity/node_modules/get-it/src/middleware/jsonResponse.js", "../../vue-sanity/node_modules/get-it/src/middleware/progress/browser-progress.js", "../../vue-sanity/node_modules/get-it/src/middleware/progress/index.js", "../../make-error/index.js", "../../vue-sanity/node_modules/@sanity/client/lib/http/errors.js", "../../vue-sanity/node_modules/@sanity/client/lib/http/browserMiddleware.js", "../../vue-sanity/node_modules/@sanity/client/lib/http/request.js", "../../vue-sanity/node_modules/@sanity/client/lib/http/requestOptions.js", "../../vue-sanity/node_modules/@sanity/client/lib/generateHelpUrl.js", "../../vue-sanity/node_modules/@sanity/client/lib/util/once.js", "../../vue-sanity/node_modules/@sanity/client/lib/warnings.js", "../../vue-sanity/node_modules/@sanity/client/lib/config.js", "../../vue-sanity/node_modules/@sanity/client/lib/sanityClient.js", "../../@sanity/image-url/src/parseAssetId.ts", "../../@sanity/image-url/src/parseSource.ts", "../../@sanity/image-url/src/urlForImage.ts", "../../@sanity/image-url/src/builder.ts", "../../minify-groq/src/minify-groq.js", "../../vue-sanity/node_modules/vue-demi/lib/index.mjs", "../../vue-sanity/lib/index.mjs"],
  "sourcesContent": ["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n", "export function isFunction(x: any): x is Function {\n  return typeof x === 'function';\n}\n", "let _enable_super_gross_mode_that_will_cause_bad_things = false;\n\n/**\n * The global configuration object for RxJS, used to configure things\n * like what Promise contructor should used to create Promises\n */\nexport const config = {\n  /**\n   * The promise constructor used by default for methods such as\n   * {@link toPromise} and {@link forEach}\n   */\n  Promise: undefined as PromiseConstructorLike,\n\n  /**\n   * If true, turns on synchronous error rethrowing, which is a deprecated behavior\n   * in v6 and higher. This behavior enables bad patterns like wrapping a subscribe\n   * call in a try/catch block. It also enables producer interference, a nasty bug\n   * where a multicast can be broken for all observers by a downstream consumer with\n   * an unhandled error. DO NOT USE THIS FLAG UNLESS IT'S NEEDED TO BY TIME\n   * FOR MIGRATION REASONS.\n   */\n  set useDeprecatedSynchronousErrorHandling(value: boolean) {\n    if (value) {\n      const error = new Error();\n      console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n    } else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n      console.log('RxJS: Back to a better error behavior. Thank you. <3');\n    }\n    _enable_super_gross_mode_that_will_cause_bad_things = value;\n  },\n\n  get useDeprecatedSynchronousErrorHandling() {\n    return _enable_super_gross_mode_that_will_cause_bad_things;\n  },\n};\n", "/**\n * Throws an error on another job so that it's picked up by the runtime's\n * uncaught error handling mechanism.\n * @param err the error to throw\n */\nexport function hostReportError(err: any) {\n  setTimeout(() => { throw err; }, 0);\n}", "import { Observer } from './types';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\nexport const empty: Observer<any> = {\n  closed: true,\n  next(value: any): void { /* noop */},\n  error(err: any): void {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      throw err;\n    } else {\n      hostReportError(err);\n    }\n  },\n  complete(): void { /*noop*/ }\n};\n", "export const isArray = (() => Array.isArray || (<T>(x: any): x is T[] => x && typeof x.length === 'number'))();\n", "export function isObject(x: any): x is Object {\n  return x !== null && typeof x === 'object';\n}\n", "export interface UnsubscriptionError extends Error {\n  readonly errors: any[];\n}\n\nexport interface UnsubscriptionErrorCtor {\n  new(errors: any[]): UnsubscriptionError;\n}\n\nconst UnsubscriptionErrorImpl = (() => {\n  function UnsubscriptionErrorImpl(this: any, errors: any[]) {\n    Error.call(this);\n    this.message = errors ?\n      `${errors.length} errors occurred during unsubscription:\n${errors.map((err, i) => `${i + 1}) ${err.toString()}`).join('\\n  ')}` : '';\n    this.name = 'UnsubscriptionError';\n    this.errors = errors;\n    return this;\n  }\n\n  UnsubscriptionErrorImpl.prototype = Object.create(Error.prototype);\n\n  return UnsubscriptionErrorImpl;\n})();\n\n/**\n * An error thrown when one or more errors have occurred during the\n * `unsubscribe` of a {@link Subscription}.\n */\nexport const UnsubscriptionError: UnsubscriptionErrorCtor = UnsubscriptionErrorImpl as any;", "import { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { SubscriptionLike, TeardownLogic } from './types';\n\n/**\n * Represents a disposable resource, such as the execution of an Observable. A\n * Subscription has one important method, `unsubscribe`, that takes no argument\n * and just disposes the resource held by the subscription.\n *\n * Additionally, subscriptions may be grouped together through the `add()`\n * method, which will attach a child Subscription to the current Subscription.\n * When a Subscription is unsubscribed, all its children (and its grandchildren)\n * will be unsubscribed as well.\n *\n * @class Subscription\n */\nexport class Subscription implements SubscriptionLike {\n  /** @nocollapse */\n  public static EMPTY: Subscription = (function(empty: any) {\n    empty.closed = true;\n    return empty;\n  }(new Subscription()));\n\n  /**\n   * A flag to indicate whether this Subscription has already been unsubscribed.\n   * @type {boolean}\n   */\n  public closed: boolean = false;\n\n  /** @internal */\n  protected _parentOrParents: Subscription | Subscription[] = null;\n  /** @internal */\n  private _subscriptions: SubscriptionLike[] = null;\n\n  /**\n   * @param {function(): void} [unsubscribe] A function describing how to\n   * perform the disposal of resources when the `unsubscribe` method is called.\n   */\n  constructor(unsubscribe?: () => void) {\n    if (unsubscribe) {\n      (this as any)._ctorUnsubscribe = true;\n      (this as any)._unsubscribe = unsubscribe;\n    }\n  }\n\n  /**\n   * Disposes the resources held by the subscription. May, for instance, cancel\n   * an ongoing Observable execution or cancel any other type of work that\n   * started when the Subscription was created.\n   * @return {void}\n   */\n  unsubscribe(): void {\n    let errors: any[];\n\n    if (this.closed) {\n      return;\n    }\n\n    let { _parentOrParents, _ctorUnsubscribe, _unsubscribe, _subscriptions } = (this as any);\n\n    this.closed = true;\n    this._parentOrParents = null;\n    // null out _subscriptions first so any child subscriptions that attempt\n    // to remove themselves from this subscription will noop\n    this._subscriptions = null;\n\n    if (_parentOrParents instanceof Subscription) {\n      _parentOrParents.remove(this);\n    } else if (_parentOrParents !== null) {\n      for (let index = 0; index < _parentOrParents.length; ++index) {\n        const parent = _parentOrParents[index];\n        parent.remove(this);\n      }\n    }\n\n    if (isFunction(_unsubscribe)) {\n      // It's only possible to null _unsubscribe - to release the reference to\n      // any teardown function passed in the constructor - if the property was\n      // actually assigned in the constructor, as there are some classes that\n      // are derived from Subscriber (which derives from Subscription) that\n      // implement an _unsubscribe method as a mechanism for obtaining\n      // unsubscription notifications and some of those subscribers are\n      // recycled. Also, in some of those subscribers, _unsubscribe switches\n      // from a prototype method to an instance property - see notifyNext in\n      // RetryWhenSubscriber.\n      if (_ctorUnsubscribe) {\n        (this as any)._unsubscribe = undefined;\n      }\n      try {\n        _unsubscribe.call(this);\n      } catch (e) {\n        errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n      }\n    }\n\n    if (isArray(_subscriptions)) {\n      let index = -1;\n      let len = _subscriptions.length;\n\n      while (++index < len) {\n        const sub = _subscriptions[index];\n        if (isObject(sub)) {\n          try {\n            sub.unsubscribe();\n          } catch (e) {\n            errors = errors || [];\n            if (e instanceof UnsubscriptionError) {\n              errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n            } else {\n              errors.push(e);\n            }\n          }\n        }\n      }\n    }\n\n    if (errors) {\n      throw new UnsubscriptionError(errors);\n    }\n  }\n\n  /**\n   * Adds a tear down to be called during the unsubscribe() of this\n   * Subscription. Can also be used to add a child subscription.\n   *\n   * If the tear down being added is a subscription that is already\n   * unsubscribed, is the same reference `add` is being called on, or is\n   * `Subscription.EMPTY`, it will not be added.\n   *\n   * If this subscription is already in an `closed` state, the passed\n   * tear down logic will be executed immediately.\n   *\n   * When a parent subscription is unsubscribed, any child subscriptions that were added to it are also unsubscribed.\n   *\n   * @param {TeardownLogic} teardown The additional logic to execute on\n   * teardown.\n   * @return {Subscription} Returns the Subscription used or created to be\n   * added to the inner subscriptions list. This Subscription can be used with\n   * `remove()` to remove the passed teardown logic from the inner subscriptions\n   * list.\n   */\n  add(teardown: TeardownLogic): Subscription {\n    let subscription = (<Subscription>teardown);\n\n    if (!teardown) {\n      return Subscription.EMPTY;\n    }\n\n    switch (typeof teardown) {\n      case 'function':\n        subscription = new Subscription(<(() => void)>teardown);\n      case 'object':\n        if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n          // This also covers the case where `subscription` is `Subscription.EMPTY`, which is always in `closed` state.\n          return subscription;\n        } else if (this.closed) {\n          subscription.unsubscribe();\n          return subscription;\n        } else if (!(subscription instanceof Subscription)) {\n          const tmp = subscription;\n          subscription = new Subscription();\n          subscription._subscriptions = [tmp];\n        }\n        break;\n      default: {\n        throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n      }\n    }\n\n    // Add `this` as parent of `subscription` if that's not already the case.\n    let { _parentOrParents } = subscription;\n    if (_parentOrParents === null) {\n      // If we don't have a parent, then set `subscription._parents` to\n      // the `this`, which is the common case that we optimize for.\n      subscription._parentOrParents = this;\n    } else if (_parentOrParents instanceof Subscription) {\n      if (_parentOrParents === this) {\n        // The `subscription` already has `this` as a parent.\n        return subscription;\n      }\n      // If there's already one parent, but not multiple, allocate an\n      // Array to store the rest of the parent Subscriptions.\n      subscription._parentOrParents = [_parentOrParents, this];\n    } else if (_parentOrParents.indexOf(this) === -1) {\n      // Only add `this` to the _parentOrParents list if it's not already there.\n      _parentOrParents.push(this);\n    } else {\n      // The `subscription` already has `this` as a parent.\n      return subscription;\n    }\n\n    // Optimize for the common case when adding the first subscription.\n    const subscriptions = this._subscriptions;\n    if (subscriptions === null) {\n      this._subscriptions = [subscription];\n    } else {\n      subscriptions.push(subscription);\n    }\n\n    return subscription;\n  }\n\n  /**\n   * Removes a Subscription from the internal list of subscriptions that will\n   * unsubscribe during the unsubscribe process of this Subscription.\n   * @param {Subscription} subscription The subscription to remove.\n   * @return {void}\n   */\n  remove(subscription: Subscription): void {\n    const subscriptions = this._subscriptions;\n    if (subscriptions) {\n      const subscriptionIndex = subscriptions.indexOf(subscription);\n      if (subscriptionIndex !== -1) {\n        subscriptions.splice(subscriptionIndex, 1);\n      }\n    }\n  }\n}\n\nfunction flattenUnsubscriptionErrors(errors: any[]) {\n return errors.reduce((errs, err) => errs.concat((err instanceof UnsubscriptionError) ? err.errors : err), []);\n}\n", "/** @deprecated do not use, this is no longer checked by RxJS internals */\nexport const rxSubscriber = (() =>\n  typeof Symbol === 'function'\n    ? Symbol('rxSubscriber')\n    : '@@rxSubscriber_' + Math.random())();\n\n/**\n * @deprecated use rxSubscriber instead\n */\nexport const $$rxSubscriber = rxSubscriber;\n", "import { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Observer, PartialObserver, TeardownLogic } from './types';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\n\n/**\n * Implements the {@link Observer} interface and extends the\n * {@link Subscription} class. While the {@link Observer} is the public API for\n * consuming the values of an {@link Observable}, all Observers get converted to\n * a Subscriber, in order to provide Subscription-like capabilities such as\n * `unsubscribe`. Subscriber is a common type in RxJS, and crucial for\n * implementing operators, but it is rarely used as a public API.\n *\n * @class Subscriber<T>\n */\nexport class Subscriber<T> extends Subscription implements Observer<T> {\n\n  [rxSubscriberSymbol]() { return this; }\n\n  /**\n   * A static factory for a Subscriber, given a (potentially partial) definition\n   * of an Observer.\n   * @param {function(x: ?T): void} [next] The `next` callback of an Observer.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)\n   * Observer represented by the given arguments.\n   * @nocollapse\n   */\n  static create<T>(next?: (x?: T) => void,\n                   error?: (e?: any) => void,\n                   complete?: () => void): Subscriber<T> {\n    const subscriber = new Subscriber(next, error, complete);\n    subscriber.syncErrorThrowable = false;\n    return subscriber;\n  }\n\n  /** @internal */ syncErrorValue: any = null;\n  /** @internal */ syncErrorThrown: boolean = false;\n  /** @internal */ syncErrorThrowable: boolean = false;\n\n  protected isStopped: boolean = false;\n  protected destination: PartialObserver<any> | Subscriber<any>; // this `any` is the escape hatch to erase extra type param (e.g. R)\n\n  /**\n   * @param {Observer|function(value: T): void} [destinationOrNext] A partially\n   * defined Observer or a `next` callback function.\n   * @param {function(e: ?any): void} [error] The `error` callback of an\n   * Observer.\n   * @param {function(): void} [complete] The `complete` callback of an\n   * Observer.\n   */\n  constructor(destinationOrNext?: PartialObserver<any> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    switch (arguments.length) {\n      case 0:\n        this.destination = emptyObserver;\n        break;\n      case 1:\n        if (!destinationOrNext) {\n          this.destination = emptyObserver;\n          break;\n        }\n        if (typeof destinationOrNext === 'object') {\n          if (destinationOrNext instanceof Subscriber) {\n            this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n            this.destination = destinationOrNext;\n            destinationOrNext.add(this);\n          } else {\n            this.syncErrorThrowable = true;\n            this.destination = new SafeSubscriber<T>(this, <PartialObserver<any>> destinationOrNext);\n          }\n          break;\n        }\n      default:\n        this.syncErrorThrowable = true;\n        this.destination = new SafeSubscriber<T>(this, <((value: T) => void)> destinationOrNext, error, complete);\n        break;\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `next` from\n   * the Observable, with a value. The Observable may call this method 0 or more\n   * times.\n   * @param {T} [value] The `next` value.\n   * @return {void}\n   */\n  next(value?: T): void {\n    if (!this.isStopped) {\n      this._next(value);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive notifications of type `error` from\n   * the Observable, with an attached `Error`. Notifies the Observer that\n   * the Observable has experienced an error condition.\n   * @param {any} [err] The `error` exception.\n   * @return {void}\n   */\n  error(err?: any): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._error(err);\n    }\n  }\n\n  /**\n   * The {@link Observer} callback to receive a valueless notification of type\n   * `complete` from the Observable. Notifies the Observer that the Observable\n   * has finished sending push-based notifications.\n   * @return {void}\n   */\n  complete(): void {\n    if (!this.isStopped) {\n      this.isStopped = true;\n      this._complete();\n    }\n  }\n\n  unsubscribe(): void {\n    if (this.closed) {\n      return;\n    }\n    this.isStopped = true;\n    super.unsubscribe();\n  }\n\n  protected _next(value: T): void {\n    this.destination.next(value);\n  }\n\n  protected _error(err: any): void {\n    this.destination.error(err);\n    this.unsubscribe();\n  }\n\n  protected _complete(): void {\n    this.destination.complete();\n    this.unsubscribe();\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _unsubscribeAndRecycle(): Subscriber<T> {\n    const {  _parentOrParents } = this;\n    this._parentOrParents = null;\n    this.unsubscribe();\n    this.closed = false;\n    this.isStopped = false;\n    this._parentOrParents = _parentOrParents;\n    return this;\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nexport class SafeSubscriber<T> extends Subscriber<T> {\n\n  private _context: any;\n\n  constructor(private _parentSubscriber: Subscriber<T>,\n              observerOrNext?: PartialObserver<T> | ((value: T) => void),\n              error?: (e?: any) => void,\n              complete?: () => void) {\n    super();\n\n    let next: ((value: T) => void);\n    let context: any = this;\n\n    if (isFunction(observerOrNext)) {\n      next = (<((value: T) => void)> observerOrNext);\n    } else if (observerOrNext) {\n      next = (<PartialObserver<T>> observerOrNext).next;\n      error = (<PartialObserver<T>> observerOrNext).error;\n      complete = (<PartialObserver<T>> observerOrNext).complete;\n      if (observerOrNext !== emptyObserver) {\n        context = Object.create(observerOrNext);\n        if (isFunction(context.unsubscribe)) {\n          this.add(<() => void> context.unsubscribe.bind(context));\n        }\n        context.unsubscribe = this.unsubscribe.bind(this);\n      }\n    }\n\n    this._context = context;\n    this._next = next;\n    this._error = error;\n    this._complete = complete;\n  }\n\n  next(value?: T): void {\n    if (!this.isStopped && this._next) {\n      const { _parentSubscriber } = this;\n      if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n        this.__tryOrUnsub(this._next, value);\n      } else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  error(err?: any): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      const { useDeprecatedSynchronousErrorHandling } = config;\n      if (this._error) {\n        if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(this._error, err);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, this._error, err);\n          this.unsubscribe();\n        }\n      } else if (!_parentSubscriber.syncErrorThrowable) {\n        this.unsubscribe();\n        if (useDeprecatedSynchronousErrorHandling) {\n          throw err;\n        }\n        hostReportError(err);\n      } else {\n        if (useDeprecatedSynchronousErrorHandling) {\n          _parentSubscriber.syncErrorValue = err;\n          _parentSubscriber.syncErrorThrown = true;\n        } else {\n          hostReportError(err);\n        }\n        this.unsubscribe();\n      }\n    }\n  }\n\n  complete(): void {\n    if (!this.isStopped) {\n      const { _parentSubscriber } = this;\n      if (this._complete) {\n        const wrappedComplete = () => this._complete.call(this._context);\n\n        if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n          this.__tryOrUnsub(wrappedComplete);\n          this.unsubscribe();\n        } else {\n          this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n          this.unsubscribe();\n        }\n      } else {\n        this.unsubscribe();\n      }\n    }\n  }\n\n  private __tryOrUnsub(fn: Function, value?: any): void {\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      this.unsubscribe();\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        throw err;\n      } else {\n        hostReportError(err);\n      }\n    }\n  }\n\n  private __tryOrSetError(parent: Subscriber<T>, fn: Function, value?: any): boolean {\n    if (!config.useDeprecatedSynchronousErrorHandling) {\n      throw new Error('bad call');\n    }\n    try {\n      fn.call(this._context, value);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        parent.syncErrorValue = err;\n        parent.syncErrorThrown = true;\n        return true;\n      } else {\n        hostReportError(err);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _unsubscribe(): void {\n    const { _parentSubscriber } = this;\n    this._context = null;\n    this._parentSubscriber = null;\n    _parentSubscriber.unsubscribe();\n  }\n}\n", "import { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\n\n/**\n * Determines whether the ErrorObserver is closed or stopped or has a\n * destination that is closed or stopped - in which case errors will\n * need to be reported via a different mechanism.\n * @param observer the observer\n */\nexport function canReportError(observer: Subscriber<any> | Subject<any>): boolean {\n  while (observer) {\n    const { closed, destination, isStopped } = observer as any;\n    if (closed || isStopped) {\n      return false;\n    } else if (destination && destination instanceof Subscriber) {\n      observer = destination;\n    } else {\n      observer = null;\n    }\n  }\n  return true;\n}\n", "import { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nimport { PartialObserver } from '../types';\n\nexport function toSubscriber<T>(\n  nextOrObserver?: PartialObserver<T> | ((value: T) => void),\n  error?: (error: any) => void,\n  complete?: () => void): Subscriber<T> {\n\n  if (nextOrObserver) {\n    if (nextOrObserver instanceof Subscriber) {\n      return (<Subscriber<T>> nextOrObserver);\n    }\n\n    if (nextOrObserver[rxSubscriberSymbol]) {\n      return nextOrObserver[rxSubscriberSymbol]();\n    }\n  }\n\n  if (!nextOrObserver && !error && !complete) {\n    return new Subscriber(emptyObserver);\n  }\n\n  return new Subscriber(nextOrObserver, error, complete);\n}\n", "/** Symbol.observable or a string \"@@observable\". Used for interop */\nexport const observable = (() => typeof Symbol === 'function' && Symbol.observable || '@@observable')();\n", "export function identity<T>(x: T): T {\n  return x;\n}\n", "import { noop } from './noop';\nimport { identity } from './identity';\nimport { UnaryFunction } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function pipe<T>(): UnaryFunction<T, T>;\nexport function pipe<T, A>(fn1: UnaryFunction<T, A>): UnaryFunction<T, A>;\nexport function pipe<T, A, B>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>): UnaryFunction<T, B>;\nexport function pipe<T, A, B, C>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>): UnaryFunction<T, C>;\nexport function pipe<T, A, B, C, D>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>): UnaryFunction<T, D>;\nexport function pipe<T, A, B, C, D, E>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>): UnaryFunction<T, E>;\nexport function pipe<T, A, B, C, D, E, F>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>): UnaryFunction<T, F>;\nexport function pipe<T, A, B, C, D, E, F, G>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>): UnaryFunction<T, G>;\nexport function pipe<T, A, B, C, D, E, F, G, H>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>): UnaryFunction<T, H>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>): UnaryFunction<T, I>;\nexport function pipe<T, A, B, C, D, E, F, G, H, I>(fn1: UnaryFunction<T, A>, fn2: UnaryFunction<A, B>, fn3: UnaryFunction<B, C>, fn4: UnaryFunction<C, D>, fn5: UnaryFunction<D, E>, fn6: UnaryFunction<E, F>, fn7: UnaryFunction<F, G>, fn8: UnaryFunction<G, H>, fn9: UnaryFunction<H, I>, ...fns: UnaryFunction<any, any>[]): UnaryFunction<T, {}>;\n/* tslint:enable:max-line-length */\n\nexport function pipe(...fns: Array<UnaryFunction<any, any>>): UnaryFunction<any, any> {\n  return pipeFromArray(fns);\n}\n\n/** @internal */\nexport function pipeFromArray<T, R>(fns: Array<UnaryFunction<T, R>>): UnaryFunction<T, R> {\n  if (fns.length === 0) {\n    return identity as UnaryFunction<any, any>;\n  }\n\n  if (fns.length === 1) {\n    return fns[0];\n  }\n\n  return function piped(input: T): R {\n    return fns.reduce((prev: any, fn: UnaryFunction<T, R>) => fn(prev), input as any);\n  };\n}\n", "import { Operator } from './Operator';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { TeardownLogic, OperatorFunction, PartialObserver, Subscribable } from './types';\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { iif } from './observable/iif';\nimport { throwError } from './observable/throwError';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\n\n/**\n * A representation of any set of values over any amount of time. This is the most basic building block\n * of RxJS.\n *\n * @class Observable<T>\n */\nexport class Observable<T> implements Subscribable<T> {\n\n  /** Internal implementation detail, do not use directly. */\n  public _isScalar: boolean = false;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  source: Observable<any>;\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  operator: Operator<any, T>;\n\n  /**\n   * @constructor\n   * @param {Function} subscribe the function that is called when the Observable is\n   * initially subscribed to. This function is given a Subscriber, to which new values\n   * can be `next`ed, or an `error` method can be called to raise an error, or\n   * `complete` can be called to notify of a successful completion.\n   */\n  constructor(subscribe?: (this: Observable<T>, subscriber: Subscriber<T>) => TeardownLogic) {\n    if (subscribe) {\n      this._subscribe = subscribe;\n    }\n  }\n\n  // HACK: Since TypeScript inherits static properties too, we have to\n  // fight against TypeScript here so Subject can have a different static create signature\n  /**\n   * Creates a new cold Observable by calling the Observable constructor\n   * @static true\n   * @owner Observable\n   * @method create\n   * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor\n   * @return {Observable} a new cold observable\n   * @nocollapse\n   * @deprecated use new Observable() instead\n   */\n  static create: Function = <T>(subscribe?: (subscriber: Subscriber<T>) => TeardownLogic) => {\n    return new Observable<T>(subscribe);\n  }\n\n  /**\n   * Creates a new Observable, with this Observable as the source, and the passed\n   * operator defined as the new observable's operator.\n   * @method lift\n   * @param {Operator} operator the operator defining the operation to take on the observable\n   * @return {Observable} a new observable with the Operator applied\n   */\n  lift<R>(operator: Operator<T, R>): Observable<R> {\n    const observable = new Observable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n\n  subscribe(observer?: PartialObserver<T>): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: null | undefined, error: null | undefined, complete: () => void): Subscription;\n  /** @deprecated Use an observer instead of an error callback */\n  subscribe(next: null | undefined, error: (error: any) => void, complete?: () => void): Subscription;\n  /** @deprecated Use an observer instead of a complete callback */\n  subscribe(next: (value: T) => void, error: null | undefined, complete: () => void): Subscription;\n  subscribe(next?: (value: T) => void, error?: (error: any) => void, complete?: () => void): Subscription;\n  /**\n   * Invokes an execution of an Observable and registers Observer handlers for notifications it will emit.\n   *\n   * <span class=\"informal\">Use it when you have all these Observables, but still nothing is happening.</span>\n   *\n   * `subscribe` is not a regular operator, but a method that calls Observable's internal `subscribe` function. It\n   * might be for example a function that you passed to Observable's constructor, but most of the time it is\n   * a library implementation, which defines what will be emitted by an Observable, and when it be will emitted. This means\n   * that calling `subscribe` is actually the moment when Observable starts its work, not when it is created, as it is often\n   * the thought.\n   *\n   * Apart from starting the execution of an Observable, this method allows you to listen for values\n   * that an Observable emits, as well as for when it completes or errors. You can achieve this in two\n   * of the following ways.\n   *\n   * The first way is creating an object that implements {@link Observer} interface. It should have methods\n   * defined by that interface, but note that it should be just a regular JavaScript object, which you can create\n   * yourself in any way you want (ES6 class, classic function constructor, object literal etc.). In particular do\n   * not attempt to use any RxJS implementation details to create Observers - you don't need them. Remember also\n   * that your object does not have to implement all methods. If you find yourself creating a method that doesn't\n   * do anything, you can simply omit it. Note however, if the `error` method is not provided, all errors will\n   * be left uncaught.\n   *\n   * The second way is to give up on Observer object altogether and simply provide callback functions in place of its methods.\n   * This means you can provide three functions as arguments to `subscribe`, where the first function is equivalent\n   * of a `next` method, the second of an `error` method and the third of a `complete` method. Just as in case of Observer,\n   * if you do not need to listen for something, you can omit a function, preferably by passing `undefined` or `null`,\n   * since `subscribe` recognizes these functions by where they were placed in function call. When it comes\n   * to `error` function, just as before, if not provided, errors emitted by an Observable will be thrown.\n   *\n   * Whichever style of calling `subscribe` you use, in both cases it returns a Subscription object.\n   * This object allows you to call `unsubscribe` on it, which in turn will stop the work that an Observable does and will clean\n   * up all resources that an Observable used. Note that cancelling a subscription will not call `complete` callback\n   * provided to `subscribe` function, which is reserved for a regular completion signal that comes from an Observable.\n   *\n   * Remember that callbacks provided to `subscribe` are not guaranteed to be called asynchronously.\n   * It is an Observable itself that decides when these functions will be called. For example {@link of}\n   * by default emits all its values synchronously. Always check documentation for how given Observable\n   * will behave when subscribed and if its default behavior can be modified with a `scheduler`.\n   *\n   * ## Example\n   * ### Subscribe with an Observer\n   * ```ts\n   * import { of } from 'rxjs';\n   *\n   * const sumObserver = {\n   *   sum: 0,\n   *   next(value) {\n   *     console.log('Adding: ' + value);\n   *     this.sum = this.sum + value;\n   *   },\n   *   error() {\n   *     // We actually could just remove this method,\n   *     // since we do not really care about errors right now.\n   *   },\n   *   complete() {\n   *     console.log('Sum equals: ' + this.sum);\n   *   }\n   * };\n   *\n   * of(1, 2, 3) // Synchronously emits 1, 2, 3 and then completes.\n   *   .subscribe(sumObserver);\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Subscribe with functions\n   * ```ts\n   * import { of } from 'rxjs'\n   *\n   * let sum = 0;\n   *\n   * of(1, 2, 3).subscribe(\n   *   value => {\n   *     console.log('Adding: ' + value);\n   *     sum = sum + value;\n   *   },\n   *   undefined,\n   *   () => console.log('Sum equals: ' + sum)\n   * );\n   *\n   * // Logs:\n   * // \"Adding: 1\"\n   * // \"Adding: 2\"\n   * // \"Adding: 3\"\n   * // \"Sum equals: 6\"\n   * ```\n   *\n   * ### Cancel a subscription\n   * ```ts\n   * import { interval } from 'rxjs';\n   *\n   * const subscription = interval(1000).subscribe(\n   *   num => console.log(num),\n   *   undefined,\n   *   () => {\n   *     // Will not be called, even when cancelling subscription.\n   *     console.log('completed!');\n   *   }\n   * );\n   *\n   * setTimeout(() => {\n   *   subscription.unsubscribe();\n   *   console.log('unsubscribed!');\n   * }, 2500);\n   *\n   * // Logs:\n   * // 0 after 1s\n   * // 1 after 2s\n   * // \"unsubscribed!\" after 2.5s\n   * ```\n   *\n   * @param {Observer|Function} observerOrNext (optional) Either an observer with methods to be called,\n   *  or the first of three possible handlers, which is the handler for each value emitted from the subscribed\n   *  Observable.\n   * @param {Function} error (optional) A handler for a terminal event resulting from an error. If no error handler is provided,\n   *  the error will be thrown as unhandled.\n   * @param {Function} complete (optional) A handler for a terminal event resulting from successful completion.\n   * @return {ISubscription} a subscription reference to the registered handlers\n   * @method subscribe\n   */\n  subscribe(observerOrNext?: PartialObserver<T> | ((value: T) => void),\n            error?: (error: any) => void,\n            complete?: () => void): Subscription {\n\n    const { operator } = this;\n    const sink = toSubscriber(observerOrNext, error, complete);\n\n    if (operator) {\n      sink.add(operator.call(sink, this.source));\n    } else {\n      sink.add(\n        this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n        this._subscribe(sink) :\n        this._trySubscribe(sink)\n      );\n    }\n\n    if (config.useDeprecatedSynchronousErrorHandling) {\n      if (sink.syncErrorThrowable) {\n        sink.syncErrorThrowable = false;\n        if (sink.syncErrorThrown) {\n          throw sink.syncErrorValue;\n        }\n      }\n    }\n\n    return sink;\n  }\n\n  /** @deprecated This is an internal implementation detail, do not use. */\n  _trySubscribe(sink: Subscriber<T>): TeardownLogic {\n    try {\n      return this._subscribe(sink);\n    } catch (err) {\n      if (config.useDeprecatedSynchronousErrorHandling) {\n        sink.syncErrorThrown = true;\n        sink.syncErrorValue = err;\n      }\n      if (canReportError(sink)) {\n        sink.error(err);\n      } else {\n        console.warn(err);\n      }\n    }\n  }\n\n  /**\n   * @method forEach\n   * @param {Function} next a handler for each value emitted by the observable\n   * @param {PromiseConstructor} [promiseCtor] a constructor function used to instantiate the Promise\n   * @return {Promise} a promise that either resolves on observable completion or\n   *  rejects with the handled error\n   */\n  forEach(next: (value: T) => void, promiseCtor?: PromiseConstructorLike): Promise<void> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor<void>((resolve, reject) => {\n      // Must be declared in a separate statement to avoid a ReferenceError when\n      // accessing subscription below in the closure due to Temporal Dead Zone.\n      let subscription: Subscription;\n      subscription = this.subscribe((value) => {\n        try {\n          next(value);\n        } catch (err) {\n          reject(err);\n          if (subscription) {\n            subscription.unsubscribe();\n          }\n        }\n      }, reject, resolve);\n    }) as Promise<void>;\n  }\n\n  /** @internal This is an internal implementation detail, do not use. */\n  _subscribe(subscriber: Subscriber<any>): TeardownLogic {\n    const { source } = this;\n    return source && source.subscribe(subscriber);\n  }\n\n  // `if` and `throw` are special snow flakes, the compiler sees them as reserved words. Deprecated in\n  // favor of iif and throwError functions.\n  /**\n   * @nocollapse\n   * @deprecated In favor of iif creation function: import { iif } from 'rxjs';\n   */\n  static if: typeof iif;\n  /**\n   * @nocollapse\n   * @deprecated In favor of throwError creation function: import { throwError } from 'rxjs';\n   */\n  static throw: typeof throwError;\n\n  /**\n   * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable\n   * @method Symbol.observable\n   * @return {Observable} this instance of the observable\n   */\n  [Symbol_observable]() {\n    return this;\n  }\n\n  /* tslint:disable:max-line-length */\n  pipe(): Observable<T>;\n  pipe<A>(op1: OperatorFunction<T, A>): Observable<A>;\n  pipe<A, B>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>): Observable<B>;\n  pipe<A, B, C>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>): Observable<C>;\n  pipe<A, B, C, D>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>): Observable<D>;\n  pipe<A, B, C, D, E>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>): Observable<E>;\n  pipe<A, B, C, D, E, F>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>): Observable<F>;\n  pipe<A, B, C, D, E, F, G>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>): Observable<G>;\n  pipe<A, B, C, D, E, F, G, H>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>): Observable<H>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>): Observable<I>;\n  pipe<A, B, C, D, E, F, G, H, I>(op1: OperatorFunction<T, A>, op2: OperatorFunction<A, B>, op3: OperatorFunction<B, C>, op4: OperatorFunction<C, D>, op5: OperatorFunction<D, E>, op6: OperatorFunction<E, F>, op7: OperatorFunction<F, G>, op8: OperatorFunction<G, H>, op9: OperatorFunction<H, I>, ...operations: OperatorFunction<any, any>[]): Observable<{}>;\n  /* tslint:enable:max-line-length */\n\n  /**\n   * Used to stitch together functional operators into a chain.\n   * @method pipe\n   * @return {Observable} the Observable result of all of the operators having\n   * been called in the order they were passed in.\n   *\n   * ### Example\n   * ```ts\n   * import { interval } from 'rxjs';\n   * import { map, filter, scan } from 'rxjs/operators';\n   *\n   * interval(1000)\n   *   .pipe(\n   *     filter(x => x % 2 === 0),\n   *     map(x => x + x),\n   *     scan((acc, x) => acc + x)\n   *   )\n   *   .subscribe(x => console.log(x))\n   * ```\n   */\n  pipe(...operations: OperatorFunction<any, any>[]): Observable<any> {\n    if (operations.length === 0) {\n      return this as any;\n    }\n\n    return pipeFromArray(operations)(this);\n  }\n\n  /* tslint:disable:max-line-length */\n  toPromise<T>(this: Observable<T>): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: typeof Promise): Promise<T>;\n  toPromise<T>(this: Observable<T>, PromiseCtor: PromiseConstructorLike): Promise<T>;\n  /* tslint:enable:max-line-length */\n\n  toPromise(promiseCtor?: PromiseConstructorLike): Promise<T> {\n    promiseCtor = getPromiseCtor(promiseCtor);\n\n    return new promiseCtor((resolve, reject) => {\n      let value: any;\n      this.subscribe((x: T) => value = x, (err: any) => reject(err), () => resolve(value));\n    }) as Promise<T>;\n  }\n}\n\n/**\n * Decides between a passed promise constructor from consuming code,\n * A default configured promise constructor, and the native promise\n * constructor and returns it. If nothing can be found, it will throw\n * an error.\n * @param promiseCtor The optional promise constructor to passed by consuming code\n */\nfunction getPromiseCtor(promiseCtor: PromiseConstructorLike | undefined) {\n  if (!promiseCtor) {\n    promiseCtor = config.Promise || Promise;\n  }\n\n  if (!promiseCtor) {\n    throw new Error('no Promise impl found');\n  }\n\n  return promiseCtor;\n}\n", "import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction, MonoTypeOperatorFunction, TeardownLogic } from '../types';\n\n/* tslint:disable:max-line-length */\nexport function filter<T, S extends T>(predicate: (value: T, index: number) => value is S,\n                                       thisArg?: any): OperatorFunction<T, S>;\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T>;\n/* tslint:enable:max-line-length */\n\n/**\n * Filter items emitted by the source Observable by only emitting those that\n * satisfy a specified predicate.\n *\n * <span class=\"informal\">Like\n * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),\n * it only emits a value from the source if it passes a criterion function.</span>\n *\n * ![](filter.png)\n *\n * Similar to the well-known `Array.prototype.filter` method, this operator\n * takes values from the source Observable, passes them through a `predicate`\n * function and only emits those values that yielded `true`.\n *\n * ## Example\n * Emit only click events whose target was a DIV element\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { filter } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const clicksOnDivs = clicks.pipe(filter(ev => ev.target.tagName === 'DIV'));\n * clicksOnDivs.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link distinct}\n * @see {@link distinctUntilChanged}\n * @see {@link distinctUntilKeyChanged}\n * @see {@link ignoreElements}\n * @see {@link partition}\n * @see {@link skip}\n *\n * @param {function(value: T, index: number): boolean} predicate A function that\n * evaluates each value emitted by the source Observable. If it returns `true`,\n * the value is emitted, if `false` the value is not passed to the output\n * Observable. The `index` parameter is the number `i` for the i-th source\n * emission that has happened since the subscription, starting from the number\n * `0`.\n * @param {any} [thisArg] An optional argument to determine the value of `this`\n * in the `predicate` function.\n * @return {Observable} An Observable of values from the source that were\n * allowed by the `predicate` function.\n * @method filter\n * @owner Observable\n */\nexport function filter<T>(predicate: (value: T, index: number) => boolean,\n                          thisArg?: any): MonoTypeOperatorFunction<T> {\n  return function filterOperatorFunction(source: Observable<T>): Observable<T> {\n    return source.lift(new FilterOperator(predicate, thisArg));\n  };\n}\n\nclass FilterOperator<T> implements Operator<T, T> {\n  constructor(private predicate: (value: T, index: number) => boolean,\n              private thisArg?: any) {\n  }\n\n  call(subscriber: Subscriber<T>, source: any): TeardownLogic {\n    return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass FilterSubscriber<T> extends Subscriber<T> {\n\n  count: number = 0;\n\n  constructor(destination: Subscriber<T>,\n              private predicate: (value: T, index: number) => boolean,\n              private thisArg: any) {\n    super(destination);\n  }\n\n  // the try catch block below is left specifically for\n  // optimization and perf reasons. a tryCatcher is not necessary here.\n  protected _next(value: T) {\n    let result: any;\n    try {\n      result = this.predicate.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    if (result) {\n      this.destination.next(value);\n    }\n  }\n}\n", "import { Operator } from '../Operator';\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OperatorFunction } from '../types';\n\n/**\n * Applies a given `project` function to each value emitted by the source\n * Observable, and emits the resulting values as an Observable.\n *\n * <span class=\"informal\">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),\n * it passes each source value through a transformation function to get\n * corresponding output values.</span>\n *\n * ![](map.png)\n *\n * Similar to the well known `Array.prototype.map` function, this operator\n * applies a projection to each value and emits that projection in the output\n * Observable.\n *\n * ## Example\n * Map every click to the clientX position of that click\n * ```ts\n * import { fromEvent } from 'rxjs';\n * import { map } from 'rxjs/operators';\n *\n * const clicks = fromEvent(document, 'click');\n * const positions = clicks.pipe(map(ev => ev.clientX));\n * positions.subscribe(x => console.log(x));\n * ```\n *\n * @see {@link mapTo}\n * @see {@link pluck}\n *\n * @param {function(value: T, index: number): R} project The function to apply\n * to each `value` emitted by the source Observable. The `index` parameter is\n * the number `i` for the i-th emission that has happened since the\n * subscription, starting from the number `0`.\n * @param {any} [thisArg] An optional argument to define what `this` is in the\n * `project` function.\n * @return {Observable<R>} An Observable that emits the values from the source\n * Observable transformed by the given `project` function.\n * @method map\n * @owner Observable\n */\nexport function map<T, R>(project: (value: T, index: number) => R, thisArg?: any): OperatorFunction<T, R> {\n  return function mapOperation(source: Observable<T>): Observable<R> {\n    if (typeof project !== 'function') {\n      throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n    }\n    return source.lift(new MapOperator(project, thisArg));\n  };\n}\n\nexport class MapOperator<T, R> implements Operator<T, R> {\n  constructor(private project: (value: T, index: number) => R, private thisArg: any) {\n  }\n\n  call(subscriber: Subscriber<R>, source: any): any {\n    return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n  }\n}\n\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nclass MapSubscriber<T, R> extends Subscriber<T> {\n  count: number = 0;\n  private thisArg: any;\n\n  constructor(destination: Subscriber<R>,\n              private project: (value: T, index: number) => R,\n              thisArg: any) {\n    super(destination);\n    this.thisArg = thisArg || this;\n  }\n\n  // NOTE: This looks unoptimized, but it's actually purposefully NOT\n  // using try/catch optimizations.\n  protected _next(value: T) {\n    let result: R;\n    try {\n      result = this.project.call(this.thisArg, value, this.count++);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n    this.destination.next(result);\n  }\n}\n", "\"use strict\";\n\n//  Since `@sanity/client` doesn't offer ESM exports (yet) const {filter} = require('rxjs/operators') will cause the the whole of rxjs to be included in the bundle.\n//  The internal import paths here is a stop-gap measure and will become less of a problem when @sanity/client export tree-shakeable esm bundles\nvar _require = require('rxjs/internal/Observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('rxjs/internal/operators/filter'),\n    filter = _require2.filter;\n\nvar _require3 = require('rxjs/internal/operators/map'),\n    map = _require3.map;\n\nmodule.exports = {\n  Observable: Observable,\n  filter: filter,\n  map: map\n};", "\"use strict\";\n\nmodule.exports = function getSelection(sel) {\n  if (typeof sel === 'string' || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n\n  if (sel && sel.query) {\n    return 'params' in sel ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n\n  var selectionOpts = ['* Document ID (<docId>)', '* Array of document IDs', '* Object containing `query`'].join('\\n');\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n};", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar VALID_ASSET_TYPES = ['image', 'file'];\nvar VALID_INSERT_LOCATIONS = ['before', 'after', 'replace'];\n\nexports.dataset = function (name) {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error('Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters');\n  }\n};\n\nexports.projectId = function (id) {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error('`projectId` can only contain only a-z, 0-9 and dashes');\n  }\n};\n\nexports.validateAssetType = function (type) {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(', ')));\n  }\n};\n\nexports.validateObject = function (op, val) {\n  if (val === null || _typeof(val) !== 'object' || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\n\nexports.requireDocumentId = function (op, doc) {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n\n  exports.validateDocumentId(op, doc._id);\n};\n\nexports.validateDocumentId = function (op, id) {\n  if (typeof id !== 'string' || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\n\nexports.validateInsert = function (at, selector, items) {\n  var signature = 'insert(at, selector, items)';\n\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    var valid = VALID_INSERT_LOCATIONS.map(function (loc) {\n      return \"\\\"\".concat(loc, \"\\\"\");\n    }).join(', ');\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n\n  if (typeof selector !== 'string') {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\n\nexports.hasDataset = function (config) {\n  if (!config.dataset) {\n    throw new Error('`dataset` must be provided to perform queries');\n  }\n\n  return config.dataset || '';\n};\n\nexports.requestTag = function (tag) {\n  if (typeof tag !== 'string' || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n\n  return tag;\n};", "\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar getSelection = require('../util/getSelection');\n\nvar validate = require('../validators');\n\nvar validateObject = validate.validateObject;\nvar validateInsert = validate.validateInsert;\n\nfunction Patch(selection) {\n  var operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var client = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  this.selection = selection;\n  this.operations = assign({}, operations);\n  this.client = client;\n}\n\nassign(Patch.prototype, {\n  clone: function clone() {\n    return new Patch(this.selection, assign({}, this.operations), this.client);\n  },\n  set: function set(props) {\n    return this._assign('set', props);\n  },\n  diffMatchPatch: function diffMatchPatch(props) {\n    validateObject('diffMatchPatch', props);\n    return this._assign('diffMatchPatch', props);\n  },\n  unset: function unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error('unset(attrs) takes an array of attributes to unset, non-array given');\n    }\n\n    this.operations = assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  },\n  setIfMissing: function setIfMissing(props) {\n    return this._assign('setIfMissing', props);\n  },\n  replace: function replace(props) {\n    validateObject('replace', props);\n    return this._set('set', {\n      $: props\n    }); // eslint-disable-line id-length\n  },\n  inc: function inc(props) {\n    return this._assign('inc', props);\n  },\n  dec: function dec(props) {\n    return this._assign('dec', props);\n  },\n  insert: function insert(at, selector, items) {\n    var _this$_assign;\n\n    validateInsert(at, selector, items);\n    return this._assign('insert', (_this$_assign = {}, _defineProperty(_this$_assign, at, selector), _defineProperty(_this$_assign, \"items\", items), _this$_assign));\n  },\n  append: function append(selector, items) {\n    return this.insert('after', \"\".concat(selector, \"[-1]\"), items);\n  },\n  prepend: function prepend(selector, items) {\n    return this.insert('before', \"\".concat(selector, \"[0]\"), items);\n  },\n  splice: function splice(selector, start, deleteCount, items) {\n    // Negative indexes doesn't mean the same in Sanity as they do in JS;\n    // -1 means \"actually at the end of the array\", which allows inserting\n    // at the end of the array without knowing its length. We therefore have\n    // to substract negative indexes by one to match JS. If you want Sanity-\n    // behaviour, just use `insert('replace', selector, items)` directly\n    var delAll = typeof deleteCount === 'undefined' || deleteCount === -1;\n    var startIndex = start < 0 ? start - 1 : start;\n    var delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    var delRange = startIndex < 0 && delCount >= 0 ? '' : delCount;\n    var rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert('replace', rangeSelector, items || []);\n  },\n  ifRevisionId: function ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  },\n  serialize: function serialize() {\n    return assign(getSelection(this.selection), this.operations);\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this.client) {\n      throw new Error('No `client` passed to patch, either provide one or pass the ' + 'patch to a clients `mutate()` method');\n    }\n\n    var returnFirst = typeof this.selection === 'string';\n    var opts = assign({\n      returnFirst: returnFirst,\n      returnDocuments: true\n    }, options);\n    return this.client.mutate({\n      patch: this.serialize()\n    }, opts);\n  },\n  reset: function reset() {\n    this.operations = {};\n    return this;\n  },\n  _set: function _set(op, props) {\n    return this._assign(op, props, false);\n  },\n  _assign: function _assign(op, props) {\n    var merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = assign({}, this.operations, _defineProperty({}, op, assign({}, merge && this.operations[op] || {}, props)));\n    return this;\n  }\n});\nmodule.exports = Patch;", "\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar validators = require('../validators');\n\nvar Patch = require('./patch');\n\nvar defaultMutateOptions = {\n  returnDocuments: false\n};\n\nfunction Transaction() {\n  var operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var client = arguments.length > 1 ? arguments[1] : undefined;\n  var transactionId = arguments.length > 2 ? arguments[2] : undefined;\n  this.trxId = transactionId;\n  this.operations = operations;\n  this.client = client;\n}\n\nassign(Transaction.prototype, {\n  clone: function clone() {\n    return new Transaction(this.operations.slice(0), this.client, this.trxId);\n  },\n  create: function create(doc) {\n    validators.validateObject('create', doc);\n    return this._add({\n      create: doc\n    });\n  },\n  createIfNotExists: function createIfNotExists(doc) {\n    var op = 'createIfNotExists';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  createOrReplace: function createOrReplace(doc) {\n    var op = 'createOrReplace';\n    validators.validateObject(op, doc);\n    validators.requireDocumentId(op, doc);\n    return this._add(_defineProperty({}, op, doc));\n  },\n  delete: function _delete(documentId) {\n    validators.validateDocumentId('delete', documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  },\n  patch: function patch(documentId, patchOps) {\n    var isBuilder = typeof patchOps === 'function';\n    var isPatch = documentId instanceof Patch; // transaction.patch(client.patch('documentId').inc({visits: 1}))\n\n    if (isPatch) {\n      return this._add({\n        patch: documentId.serialize()\n      });\n    } // patch => patch.inc({visits: 1}).set({foo: 'bar'})\n\n\n    if (isBuilder) {\n      var patch = patchOps(new Patch(documentId, {}, this.client));\n\n      if (!(patch instanceof Patch)) {\n        throw new Error('function passed to `patch()` must return the patch');\n      }\n\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n\n    return this._add({\n      patch: assign({\n        id: documentId\n      }, patchOps)\n    });\n  },\n  transactionId: function transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n\n    this.trxId = id;\n    return this;\n  },\n  serialize: function serialize() {\n    return this.operations.slice();\n  },\n  toJSON: function toJSON() {\n    return this.serialize();\n  },\n  commit: function commit(options) {\n    if (!this.client) {\n      throw new Error('No `client` passed to transaction, either provide one or pass the ' + 'transaction to a clients `mutate()` method');\n    }\n\n    return this.client.mutate(this.serialize(), assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  },\n  reset: function reset() {\n    this.operations = [];\n    return this;\n  },\n  _add: function _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n});\nmodule.exports = Transaction;", "\"use strict\";\n\nvar _excluded = [\"tag\"];\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar enc = encodeURIComponent;\n\nmodule.exports = function (_ref) {\n  var query = _ref.query,\n      _ref$params = _ref.params,\n      params = _ref$params === void 0 ? {} : _ref$params,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {} : _ref$options;\n\n  // We generally want tag at the start of the query string\n  var tag = options.tag,\n      opts = _objectWithoutProperties(options, _excluded);\n\n  var q = \"query=\".concat(enc(query));\n  var base = tag ? \"?tag=\".concat(enc(tag), \"&\").concat(q) : \"?\".concat(q);\n  var qString = Object.keys(params).reduce(function (qs, param) {\n    return \"\".concat(qs, \"&\").concat(enc(\"$\".concat(param)), \"=\").concat(enc(JSON.stringify(params[param])));\n  }, base);\n  return Object.keys(opts).reduce(function (qs, option) {\n    // Only include the option if it is truthy\n    return options[option] ? \"\".concat(qs, \"&\").concat(enc(option), \"=\").concat(enc(options[option])) : qs;\n  }, qString);\n};", "/** @license\r\n * eventsource.js\r\n * Available under MIT License (MIT)\r\n * https://github.com/Yaffle/EventSource/\r\n */\r\n\r\n/*jslint indent: 2, vars: true, plusplus: true */\r\n/*global setTimeout, clearTimeout */\r\n\r\n(function (global) {\r\n  \"use strict\";\r\n\r\n  var setTimeout = global.setTimeout;\r\n  var clearTimeout = global.clearTimeout;\r\n  var XMLHttpRequest = global.XMLHttpRequest;\r\n  var XDomainRequest = global.XDomainRequest;\r\n  var ActiveXObject = global.ActiveXObject;\r\n  var NativeEventSource = global.EventSource;\r\n\r\n  var document = global.document;\r\n  var Promise = global.Promise;\r\n  var fetch = global.fetch;\r\n  var Response = global.Response;\r\n  var TextDecoder = global.TextDecoder;\r\n  var TextEncoder = global.TextEncoder;\r\n  var AbortController = global.AbortController;\r\n\r\n  if (typeof window !== \"undefined\" && typeof document !== \"undefined\" && !(\"readyState\" in document) && document.body == null) { // Firefox 2\r\n    document.readyState = \"loading\";\r\n    window.addEventListener(\"load\", function (event) {\r\n      document.readyState = \"complete\";\r\n    }, false);\r\n  }\r\n\r\n  if (XMLHttpRequest == null && ActiveXObject != null) { // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest_in_IE6\r\n    XMLHttpRequest = function () {\r\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    };\r\n  }\r\n\r\n  if (Object.create == undefined) {\r\n    Object.create = function (C) {\r\n      function F(){}\r\n      F.prototype = C;\r\n      return new F();\r\n    };\r\n  }\r\n\r\n  if (!Date.now) {\r\n    Date.now = function now() {\r\n      return new Date().getTime();\r\n    };\r\n  }\r\n\r\n  // see #118 (Promise#finally with polyfilled Promise)\r\n  // see #123 (data URLs crash Edge)\r\n  // see #125 (CSP violations)\r\n  // see pull/#138\r\n  // => No way to polyfill Promise#finally\r\n\r\n  if (AbortController == undefined) {\r\n    var originalFetch2 = fetch;\r\n    fetch = function (url, options) {\r\n      var signal = options.signal;\r\n      return originalFetch2(url, {headers: options.headers, credentials: options.credentials, cache: options.cache}).then(function (response) {\r\n        var reader = response.body.getReader();\r\n        signal._reader = reader;\r\n        if (signal._aborted) {\r\n          signal._reader.cancel();\r\n        }\r\n        return {\r\n          status: response.status,\r\n          statusText: response.statusText,\r\n          headers: response.headers,\r\n          body: {\r\n            getReader: function () {\r\n              return reader;\r\n            }\r\n          }\r\n        };\r\n      });\r\n    };\r\n    AbortController = function () {\r\n      this.signal = {\r\n        _reader: null,\r\n        _aborted: false\r\n      };\r\n      this.abort = function () {\r\n        if (this.signal._reader != null) {\r\n          this.signal._reader.cancel();\r\n        }\r\n        this.signal._aborted = true;\r\n      };\r\n    };\r\n  }\r\n\r\n  function TextDecoderPolyfill() {\r\n    this.bitsNeeded = 0;\r\n    this.codePoint = 0;\r\n  }\r\n\r\n  TextDecoderPolyfill.prototype.decode = function (octets) {\r\n    function valid(codePoint, shift, octetsCount) {\r\n      if (octetsCount === 1) {\r\n        return codePoint >= 0x0080 >> shift && codePoint << shift <= 0x07FF;\r\n      }\r\n      if (octetsCount === 2) {\r\n        return codePoint >= 0x0800 >> shift && codePoint << shift <= 0xD7FF || codePoint >= 0xE000 >> shift && codePoint << shift <= 0xFFFF;\r\n      }\r\n      if (octetsCount === 3) {\r\n        return codePoint >= 0x010000 >> shift && codePoint << shift <= 0x10FFFF;\r\n      }\r\n      throw new Error();\r\n    }\r\n    function octetsCount(bitsNeeded, codePoint) {\r\n      if (bitsNeeded === 6 * 1) {\r\n        return codePoint >> 6 > 15 ? 3 : codePoint > 31 ? 2 : 1;\r\n      }\r\n      if (bitsNeeded === 6 * 2) {\r\n        return codePoint > 15 ? 3 : 2;\r\n      }\r\n      if (bitsNeeded === 6 * 3) {\r\n        return 3;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var REPLACER = 0xFFFD;\r\n    var string = \"\";\r\n    var bitsNeeded = this.bitsNeeded;\r\n    var codePoint = this.codePoint;\r\n    for (var i = 0; i < octets.length; i += 1) {\r\n      var octet = octets[i];\r\n      if (bitsNeeded !== 0) {\r\n        if (octet < 128 || octet > 191 || !valid(codePoint << 6 | octet & 63, bitsNeeded - 6, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n          string += String.fromCharCode(codePoint);\r\n        }\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (octet >= 0 && octet <= 127) {\r\n          bitsNeeded = 0;\r\n          codePoint = octet;\r\n        } else if (octet >= 192 && octet <= 223) {\r\n          bitsNeeded = 6 * 1;\r\n          codePoint = octet & 31;\r\n        } else if (octet >= 224 && octet <= 239) {\r\n          bitsNeeded = 6 * 2;\r\n          codePoint = octet & 15;\r\n        } else if (octet >= 240 && octet <= 247) {\r\n          bitsNeeded = 6 * 3;\r\n          codePoint = octet & 7;\r\n        } else {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n        if (bitsNeeded !== 0 && !valid(codePoint, bitsNeeded, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n      } else {\r\n        bitsNeeded -= 6;\r\n        codePoint = codePoint << 6 | octet & 63;\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (codePoint <= 0xFFFF) {\r\n          string += String.fromCharCode(codePoint);\r\n        } else {\r\n          string += String.fromCharCode(0xD800 + (codePoint - 0xFFFF - 1 >> 10));\r\n          string += String.fromCharCode(0xDC00 + (codePoint - 0xFFFF - 1 & 0x3FF));\r\n        }\r\n      }\r\n    }\r\n    this.bitsNeeded = bitsNeeded;\r\n    this.codePoint = codePoint;\r\n    return string;\r\n  };\r\n\r\n  // Firefox < 38 throws an error with stream option\r\n  var supportsStreamOption = function () {\r\n    try {\r\n      return new TextDecoder().decode(new TextEncoder().encode(\"test\"), {stream: true}) === \"test\";\r\n    } catch (error) {\r\n      console.debug(\"TextDecoder does not support streaming option. Using polyfill instead: \" + error);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // IE, Edge\r\n  if (TextDecoder == undefined || TextEncoder == undefined || !supportsStreamOption()) {\r\n    TextDecoder = TextDecoderPolyfill;\r\n  }\r\n\r\n  var k = function () {\r\n  };\r\n\r\n  function XHRWrapper(xhr) {\r\n    this.withCredentials = false;\r\n    this.readyState = 0;\r\n    this.status = 0;\r\n    this.statusText = \"\";\r\n    this.responseText = \"\";\r\n    this.onprogress = k;\r\n    this.onload = k;\r\n    this.onerror = k;\r\n    this.onreadystatechange = k;\r\n    this._contentType = \"\";\r\n    this._xhr = xhr;\r\n    this._sendTimeout = 0;\r\n    this._abort = k;\r\n  }\r\n\r\n  XHRWrapper.prototype.open = function (method, url) {\r\n    this._abort(true);\r\n\r\n    var that = this;\r\n    var xhr = this._xhr;\r\n    var state = 1;\r\n    var timeout = 0;\r\n\r\n    this._abort = function (silent) {\r\n      if (that._sendTimeout !== 0) {\r\n        clearTimeout(that._sendTimeout);\r\n        that._sendTimeout = 0;\r\n      }\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        xhr.onload = k;\r\n        xhr.onerror = k;\r\n        xhr.onabort = k;\r\n        xhr.onprogress = k;\r\n        xhr.onreadystatechange = k;\r\n        // IE 8 - 9: XDomainRequest#abort() does not fire any event\r\n        // Opera < 10: XMLHttpRequest#abort() does not fire any event\r\n        xhr.abort();\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        if (!silent) {\r\n          that.readyState = 4;\r\n          that.onabort(null);\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n      state = 0;\r\n    };\r\n\r\n    var onStart = function () {\r\n      if (state === 1) {\r\n        //state = 2;\r\n        var status = 0;\r\n        var statusText = \"\";\r\n        var contentType = undefined;\r\n        if (!(\"contentType\" in xhr)) {\r\n          try {\r\n            status = xhr.status;\r\n            statusText = xhr.statusText;\r\n            contentType = xhr.getResponseHeader(\"Content-Type\");\r\n          } catch (error) {\r\n            // IE < 10 throws exception for `xhr.status` when xhr.readyState === 2 || xhr.readyState === 3\r\n            // Opera < 11 throws exception for `xhr.status` when xhr.readyState === 2\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29121\r\n            status = 0;\r\n            statusText = \"\";\r\n            contentType = undefined;\r\n            // Firefox < 14, Chrome ?, Safari ?\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29658\r\n            // https://bugs.webkit.org/show_bug.cgi?id=77854\r\n          }\r\n        } else {\r\n          status = 200;\r\n          statusText = \"OK\";\r\n          contentType = xhr.contentType;\r\n        }\r\n        if (status !== 0) {\r\n          state = 2;\r\n          that.readyState = 2;\r\n          that.status = status;\r\n          that.statusText = statusText;\r\n          that._contentType = contentType;\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n    };\r\n    var onProgress = function () {\r\n      onStart();\r\n      if (state === 2 || state === 3) {\r\n        state = 3;\r\n        var responseText = \"\";\r\n        try {\r\n          responseText = xhr.responseText;\r\n        } catch (error) {\r\n          // IE 8 - 9 with XMLHttpRequest\r\n        }\r\n        that.readyState = 3;\r\n        that.responseText = responseText;\r\n        that.onprogress();\r\n      }\r\n    };\r\n    var onFinish = function (type, event) {\r\n      if (event == null || event.preventDefault == null) {\r\n        event = {\r\n          preventDefault: k\r\n        };\r\n      }\r\n      // Firefox 52 fires \"readystatechange\" (xhr.readyState === 4) without final \"readystatechange\" (xhr.readyState === 3)\r\n      // IE 8 fires \"onload\" without \"onprogress\"\r\n      onProgress();\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        that.readyState = 4;\r\n        if (type === \"load\") {\r\n          that.onload(event);\r\n        } else if (type === \"error\") {\r\n          that.onerror(event);\r\n        } else if (type === \"abort\") {\r\n          that.onabort(event);\r\n        } else {\r\n          throw new TypeError();\r\n        }\r\n        that.onreadystatechange();\r\n      }\r\n    };\r\n    var onReadyStateChange = function (event) {\r\n      if (xhr != undefined) { // Opera 12\r\n        if (xhr.readyState === 4) {\r\n          if (!(\"onload\" in xhr) || !(\"onerror\" in xhr) || !(\"onabort\" in xhr)) {\r\n            onFinish(xhr.responseText === \"\" ? \"error\" : \"load\", event);\r\n          }\r\n        } else if (xhr.readyState === 3) {\r\n          if (!(\"onprogress\" in xhr)) { // testing XMLHttpRequest#responseText too many times is too slow in IE 11\r\n            // and in Firefox 3.6\r\n            onProgress();\r\n          }\r\n        } else if (xhr.readyState === 2) {\r\n          onStart();\r\n        }\r\n      }\r\n    };\r\n    var onTimeout = function () {\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 500);\r\n      if (xhr.readyState === 3) {\r\n        onProgress();\r\n      }\r\n    };\r\n\r\n    // XDomainRequest#abort removes onprogress, onerror, onload\r\n    if (\"onload\" in xhr) {\r\n      xhr.onload = function (event) {\r\n        onFinish(\"load\", event);\r\n      };\r\n    }\r\n    if (\"onerror\" in xhr) {\r\n      xhr.onerror = function (event) {\r\n        onFinish(\"error\", event);\r\n      };\r\n    }\r\n    // improper fix to match Firefox behaviour, but it is better than just ignore abort\r\n    // see https://bugzilla.mozilla.org/show_bug.cgi?id=768596\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=880200\r\n    // https://code.google.com/p/chromium/issues/detail?id=153570\r\n    // IE 8 fires \"onload\" without \"onprogress\r\n    if (\"onabort\" in xhr) {\r\n      xhr.onabort = function (event) {\r\n        onFinish(\"abort\", event);\r\n      };\r\n    }\r\n\r\n    if (\"onprogress\" in xhr) {\r\n      xhr.onprogress = onProgress;\r\n    }\r\n\r\n    // IE 8 - 9 (XMLHTTPRequest)\r\n    // Opera < 12\r\n    // Firefox < 3.5\r\n    // Firefox 3.5 - 3.6 - ? < 9.0\r\n    // onprogress is not fired sometimes or delayed\r\n    // see also #64 (significant lag in IE 11)\r\n    if (\"onreadystatechange\" in xhr) {\r\n      xhr.onreadystatechange = function (event) {\r\n        onReadyStateChange(event);\r\n      };\r\n    }\r\n\r\n    if (\"contentType\" in xhr || !(\"ontimeout\" in XMLHttpRequest.prototype)) {\r\n      url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"padding=true\";\r\n    }\r\n    xhr.open(method, url, true);\r\n\r\n    if (\"readyState\" in xhr) {\r\n      // workaround for Opera 12 issue with \"progress\" events\r\n      // #91 (XMLHttpRequest onprogress not fired for streaming response in Edge 14-15-?)\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 0);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.abort = function () {\r\n    this._abort(false);\r\n  };\r\n  XHRWrapper.prototype.getResponseHeader = function (name) {\r\n    return this._contentType;\r\n  };\r\n  XHRWrapper.prototype.setRequestHeader = function (name, value) {\r\n    var xhr = this._xhr;\r\n    if (\"setRequestHeader\" in xhr) {\r\n      xhr.setRequestHeader(name, value);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.getAllResponseHeaders = function () {\r\n    // XMLHttpRequest#getAllResponseHeaders returns null for CORS requests in Firefox 3.6.28\r\n    return this._xhr.getAllResponseHeaders != undefined ? this._xhr.getAllResponseHeaders() || \"\" : \"\";\r\n  };\r\n  XHRWrapper.prototype.send = function () {\r\n    // loading indicator in Safari < ? (6), Chrome < 14, Firefox\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=736723\r\n    if ((!(\"ontimeout\" in XMLHttpRequest.prototype) || (!(\"sendAsBinary\" in XMLHttpRequest.prototype) && !(\"mozAnon\" in XMLHttpRequest.prototype))) &&\r\n        document != undefined &&\r\n        document.readyState != undefined &&\r\n        document.readyState !== \"complete\") {\r\n      var that = this;\r\n      that._sendTimeout = setTimeout(function () {\r\n        that._sendTimeout = 0;\r\n        that.send();\r\n      }, 4);\r\n      return;\r\n    }\r\n\r\n    var xhr = this._xhr;\r\n    // withCredentials should be set after \"open\" for Safari and Chrome (< 19 ?)\r\n    if (\"withCredentials\" in xhr) {\r\n      xhr.withCredentials = this.withCredentials;\r\n    }\r\n    try {\r\n      // xhr.send(); throws \"Not enough arguments\" in Firefox 3.0\r\n      xhr.send(undefined);\r\n    } catch (error1) {\r\n      // Safari 5.1.7, Opera 12\r\n      throw error1;\r\n    }\r\n  };\r\n\r\n  function toLowerCase(name) {\r\n    return name.replace(/[A-Z]/g, function (c) {\r\n      return String.fromCharCode(c.charCodeAt(0) + 0x20);\r\n    });\r\n  }\r\n\r\n  function HeadersPolyfill(all) {\r\n    // Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\r\n    var map = Object.create(null);\r\n    var array = all.split(\"\\r\\n\");\r\n    for (var i = 0; i < array.length; i += 1) {\r\n      var line = array[i];\r\n      var parts = line.split(\": \");\r\n      var name = parts.shift();\r\n      var value = parts.join(\": \");\r\n      map[toLowerCase(name)] = value;\r\n    }\r\n    this._map = map;\r\n  }\r\n  HeadersPolyfill.prototype.get = function (name) {\r\n    return this._map[toLowerCase(name)];\r\n  };\r\n\r\n  if (XMLHttpRequest != null && XMLHttpRequest.HEADERS_RECEIVED == null) { // IE < 9, Firefox 3.6\r\n    XMLHttpRequest.HEADERS_RECEIVED = 2;\r\n  }\r\n\r\n  function XHRTransport() {\r\n  }\r\n\r\n  XHRTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    xhr.open(\"GET\", url);\r\n    var offset = 0;\r\n    xhr.onprogress = function () {\r\n      var responseText = xhr.responseText;\r\n      var chunk = responseText.slice(offset);\r\n      offset += chunk.length;\r\n      onProgressCallback(chunk);\r\n    };\r\n    xhr.onerror = function (event) {\r\n      event.preventDefault();\r\n      onFinishCallback(new Error(\"NetworkError\"));\r\n    };\r\n    xhr.onload = function () {\r\n      onFinishCallback(null);\r\n    };\r\n    xhr.onabort = function () {\r\n      onFinishCallback(null);\r\n    };\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED) {\r\n        var status = xhr.status;\r\n        var statusText = xhr.statusText;\r\n        var contentType = xhr.getResponseHeader(\"Content-Type\");\r\n        var headers = xhr.getAllResponseHeaders();\r\n        onStartCallback(status, statusText, contentType, new HeadersPolyfill(headers));\r\n      }\r\n    };\r\n    xhr.withCredentials = withCredentials;\r\n    for (var name in headers) {\r\n      if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n        xhr.setRequestHeader(name, headers[name]);\r\n      }\r\n    }\r\n    xhr.send();\r\n    return xhr;\r\n  };\r\n\r\n  function HeadersWrapper(headers) {\r\n    this._headers = headers;\r\n  }\r\n  HeadersWrapper.prototype.get = function (name) {\r\n    return this._headers.get(name);\r\n  };\r\n\r\n  function FetchTransport() {\r\n  }\r\n\r\n  FetchTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    var reader = null;\r\n    var controller = new AbortController();\r\n    var signal = controller.signal;\r\n    var textDecoder = new TextDecoder();\r\n    fetch(url, {\r\n      headers: headers,\r\n      credentials: withCredentials ? \"include\" : \"same-origin\",\r\n      signal: signal,\r\n      cache: \"no-store\"\r\n    }).then(function (response) {\r\n      reader = response.body.getReader();\r\n      onStartCallback(response.status, response.statusText, response.headers.get(\"Content-Type\"), new HeadersWrapper(response.headers));\r\n      // see https://github.com/promises-aplus/promises-spec/issues/179\r\n      return new Promise(function (resolve, reject) {\r\n        var readNextChunk = function () {\r\n          reader.read().then(function (result) {\r\n            if (result.done) {\r\n              //Note: bytes in textDecoder are ignored\r\n              resolve(undefined);\r\n            } else {\r\n              var chunk = textDecoder.decode(result.value, {stream: true});\r\n              onProgressCallback(chunk);\r\n              readNextChunk();\r\n            }\r\n          })[\"catch\"](function (error) {\r\n            reject(error);\r\n          });\r\n        };\r\n        readNextChunk();\r\n      });\r\n    })[\"catch\"](function (error) {\r\n      if (error.name === \"AbortError\") {\r\n        return undefined;\r\n      } else {\r\n        return error;\r\n      }\r\n    }).then(function (error) {\r\n      onFinishCallback(error);\r\n    });\r\n    return {\r\n      abort: function () {\r\n        if (reader != null) {\r\n          reader.cancel(); // https://bugzilla.mozilla.org/show_bug.cgi?id=1583815\r\n        }\r\n        controller.abort();\r\n      }\r\n    };\r\n  };\r\n\r\n  function EventTarget() {\r\n    this._listeners = Object.create(null);\r\n  }\r\n\r\n  function throwError(e) {\r\n    setTimeout(function () {\r\n      throw e;\r\n    }, 0);\r\n  }\r\n\r\n  EventTarget.prototype.dispatchEvent = function (event) {\r\n    event.target = this;\r\n    var typeListeners = this._listeners[event.type];\r\n    if (typeListeners != undefined) {\r\n      var length = typeListeners.length;\r\n      for (var i = 0; i < length; i += 1) {\r\n        var listener = typeListeners[i];\r\n        try {\r\n          if (typeof listener.handleEvent === \"function\") {\r\n            listener.handleEvent(event);\r\n          } else {\r\n            listener.call(this, event);\r\n          }\r\n        } catch (e) {\r\n          throwError(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  EventTarget.prototype.addEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners == undefined) {\r\n      typeListeners = [];\r\n      listeners[type] = typeListeners;\r\n    }\r\n    var found = false;\r\n    for (var i = 0; i < typeListeners.length; i += 1) {\r\n      if (typeListeners[i] === listener) {\r\n        found = true;\r\n      }\r\n    }\r\n    if (!found) {\r\n      typeListeners.push(listener);\r\n    }\r\n  };\r\n  EventTarget.prototype.removeEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners != undefined) {\r\n      var filtered = [];\r\n      for (var i = 0; i < typeListeners.length; i += 1) {\r\n        if (typeListeners[i] !== listener) {\r\n          filtered.push(typeListeners[i]);\r\n        }\r\n      }\r\n      if (filtered.length === 0) {\r\n        delete listeners[type];\r\n      } else {\r\n        listeners[type] = filtered;\r\n      }\r\n    }\r\n  };\r\n\r\n  function Event(type) {\r\n    this.type = type;\r\n    this.target = undefined;\r\n  }\r\n\r\n  function MessageEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.data = options.data;\r\n    this.lastEventId = options.lastEventId;\r\n  }\r\n\r\n  MessageEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ConnectionEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.status = options.status;\r\n    this.statusText = options.statusText;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  ConnectionEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ErrorEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.error = options.error;\r\n  }\r\n\r\n  ErrorEvent.prototype = Object.create(Event.prototype);\r\n\r\n  var WAITING = -1;\r\n  var CONNECTING = 0;\r\n  var OPEN = 1;\r\n  var CLOSED = 2;\r\n\r\n  var AFTER_CR = -1;\r\n  var FIELD_START = 0;\r\n  var FIELD = 1;\r\n  var VALUE_START = 2;\r\n  var VALUE = 3;\r\n\r\n  var contentTypeRegExp = /^text\\/event\\-stream(;.*)?$/i;\r\n\r\n  var MINIMUM_DURATION = 1000;\r\n  var MAXIMUM_DURATION = 18000000;\r\n\r\n  var parseDuration = function (value, def) {\r\n    var n = value == null ? def : parseInt(value, 10);\r\n    if (n !== n) {\r\n      n = def;\r\n    }\r\n    return clampDuration(n);\r\n  };\r\n  var clampDuration = function (n) {\r\n    return Math.min(Math.max(n, MINIMUM_DURATION), MAXIMUM_DURATION);\r\n  };\r\n\r\n  var fire = function (that, f, event) {\r\n    try {\r\n      if (typeof f === \"function\") {\r\n        f.call(that, event);\r\n      }\r\n    } catch (e) {\r\n      throwError(e);\r\n    }\r\n  };\r\n\r\n  function EventSourcePolyfill(url, options) {\r\n    EventTarget.call(this);\r\n    options = options || {};\r\n\r\n    this.onopen = undefined;\r\n    this.onmessage = undefined;\r\n    this.onerror = undefined;\r\n\r\n    this.url = undefined;\r\n    this.readyState = undefined;\r\n    this.withCredentials = undefined;\r\n    this.headers = undefined;\r\n\r\n    this._close = undefined;\r\n\r\n    start(this, url, options);\r\n  }\r\n\r\n  function getBestXHRTransport() {\r\n    return (XMLHttpRequest != undefined && (\"withCredentials\" in XMLHttpRequest.prototype)) || XDomainRequest == undefined\r\n        ? new XMLHttpRequest()\r\n        : new XDomainRequest();\r\n  }\r\n\r\n  var isFetchSupported = fetch != undefined && Response != undefined && \"body\" in Response.prototype;\r\n\r\n  function start(es, url, options) {\r\n    url = String(url);\r\n    var withCredentials = Boolean(options.withCredentials);\r\n    var lastEventIdQueryParameterName = options.lastEventIdQueryParameterName || \"lastEventId\";\r\n\r\n    var initialRetry = clampDuration(1000);\r\n    var heartbeatTimeout = parseDuration(options.heartbeatTimeout, 45000);\r\n\r\n    var lastEventId = \"\";\r\n    var retry = initialRetry;\r\n    var wasActivity = false;\r\n    var textLength = 0;\r\n    var headers = options.headers || {};\r\n    var TransportOption = options.Transport;\r\n    var xhr = isFetchSupported && TransportOption == undefined ? undefined : new XHRWrapper(TransportOption != undefined ? new TransportOption() : getBestXHRTransport());\r\n    var transport = TransportOption != null && typeof TransportOption !== \"string\" ? new TransportOption() : (xhr == undefined ? new FetchTransport() : new XHRTransport());\r\n    var abortController = undefined;\r\n    var timeout = 0;\r\n    var currentState = WAITING;\r\n    var dataBuffer = \"\";\r\n    var lastEventIdBuffer = \"\";\r\n    var eventTypeBuffer = \"\";\r\n\r\n    var textBuffer = \"\";\r\n    var state = FIELD_START;\r\n    var fieldStart = 0;\r\n    var valueStart = 0;\r\n\r\n    var onStart = function (status, statusText, contentType, headers) {\r\n      if (currentState === CONNECTING) {\r\n        if (status === 200 && contentType != undefined && contentTypeRegExp.test(contentType)) {\r\n          currentState = OPEN;\r\n          wasActivity = Date.now();\r\n          retry = initialRetry;\r\n          es.readyState = OPEN;\r\n          var event = new ConnectionEvent(\"open\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onopen, event);\r\n        } else {\r\n          var message = \"\";\r\n          if (status !== 200) {\r\n            if (statusText) {\r\n              statusText = statusText.replace(/\\s+/g, \" \");\r\n            }\r\n            message = \"EventSource's response has a status \" + status + \" \" + statusText + \" that is not 200. Aborting the connection.\";\r\n          } else {\r\n            message = \"EventSource's response has a Content-Type specifying an unsupported type: \" + (contentType == undefined ? \"-\" : contentType.replace(/\\s+/g, \" \")) + \". Aborting the connection.\";\r\n          }\r\n          close();\r\n          var event = new ConnectionEvent(\"error\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onerror, event);\r\n          console.error(message);\r\n        }\r\n      }\r\n    };\r\n\r\n    var onProgress = function (textChunk) {\r\n      if (currentState === OPEN) {\r\n        var n = -1;\r\n        for (var i = 0; i < textChunk.length; i += 1) {\r\n          var c = textChunk.charCodeAt(i);\r\n          if (c === \"\\n\".charCodeAt(0) || c === \"\\r\".charCodeAt(0)) {\r\n            n = i;\r\n          }\r\n        }\r\n        var chunk = (n !== -1 ? textBuffer : \"\") + textChunk.slice(0, n + 1);\r\n        textBuffer = (n === -1 ? textBuffer : \"\") + textChunk.slice(n + 1);\r\n        if (textChunk !== \"\") {\r\n          wasActivity = Date.now();\r\n          textLength += textChunk.length;\r\n        }\r\n        for (var position = 0; position < chunk.length; position += 1) {\r\n          var c = chunk.charCodeAt(position);\r\n          if (state === AFTER_CR && c === \"\\n\".charCodeAt(0)) {\r\n            state = FIELD_START;\r\n          } else {\r\n            if (state === AFTER_CR) {\r\n              state = FIELD_START;\r\n            }\r\n            if (c === \"\\r\".charCodeAt(0) || c === \"\\n\".charCodeAt(0)) {\r\n              if (state !== FIELD_START) {\r\n                if (state === FIELD) {\r\n                  valueStart = position + 1;\r\n                }\r\n                var field = chunk.slice(fieldStart, valueStart - 1);\r\n                var value = chunk.slice(valueStart + (valueStart < position && chunk.charCodeAt(valueStart) === \" \".charCodeAt(0) ? 1 : 0), position);\r\n                if (field === \"data\") {\r\n                  dataBuffer += \"\\n\";\r\n                  dataBuffer += value;\r\n                } else if (field === \"id\") {\r\n                  lastEventIdBuffer = value;\r\n                } else if (field === \"event\") {\r\n                  eventTypeBuffer = value;\r\n                } else if (field === \"retry\") {\r\n                  initialRetry = parseDuration(value, initialRetry);\r\n                  retry = initialRetry;\r\n                } else if (field === \"heartbeatTimeout\") {\r\n                  heartbeatTimeout = parseDuration(value, heartbeatTimeout);\r\n                  if (timeout !== 0) {\r\n                    clearTimeout(timeout);\r\n                    timeout = setTimeout(function () {\r\n                      onTimeout();\r\n                    }, heartbeatTimeout);\r\n                  }\r\n                }\r\n              }\r\n              if (state === FIELD_START) {\r\n                if (dataBuffer !== \"\") {\r\n                  lastEventId = lastEventIdBuffer;\r\n                  if (eventTypeBuffer === \"\") {\r\n                    eventTypeBuffer = \"message\";\r\n                  }\r\n                  var event = new MessageEvent(eventTypeBuffer, {\r\n                    data: dataBuffer.slice(1),\r\n                    lastEventId: lastEventIdBuffer\r\n                  });\r\n                  es.dispatchEvent(event);\r\n                  if (eventTypeBuffer === \"open\") {\r\n                    fire(es, es.onopen, event);\r\n                  } else if (eventTypeBuffer === \"message\") {\r\n                    fire(es, es.onmessage, event);\r\n                  } else if (eventTypeBuffer === \"error\") {\r\n                    fire(es, es.onerror, event);\r\n                  }\r\n                  if (currentState === CLOSED) {\r\n                    return;\r\n                  }\r\n                }\r\n                dataBuffer = \"\";\r\n                eventTypeBuffer = \"\";\r\n              }\r\n              state = c === \"\\r\".charCodeAt(0) ? AFTER_CR : FIELD_START;\r\n            } else {\r\n              if (state === FIELD_START) {\r\n                fieldStart = position;\r\n                state = FIELD;\r\n              }\r\n              if (state === FIELD) {\r\n                if (c === \":\".charCodeAt(0)) {\r\n                  valueStart = position + 1;\r\n                  state = VALUE_START;\r\n                }\r\n              } else if (state === VALUE_START) {\r\n                state = VALUE;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    var onFinish = function (error) {\r\n      if (currentState === OPEN || currentState === CONNECTING) {\r\n        currentState = WAITING;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        timeout = setTimeout(function () {\r\n          onTimeout();\r\n        }, retry);\r\n        retry = clampDuration(Math.min(initialRetry * 16, retry * 2));\r\n\r\n        es.readyState = CONNECTING;\r\n        var event = new ErrorEvent(\"error\", {error: error});\r\n        es.dispatchEvent(event);\r\n        fire(es, es.onerror, event);\r\n        if (error != undefined) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    };\r\n\r\n    var close = function () {\r\n      currentState = CLOSED;\r\n      if (abortController != undefined) {\r\n        abortController.abort();\r\n        abortController = undefined;\r\n      }\r\n      if (timeout !== 0) {\r\n        clearTimeout(timeout);\r\n        timeout = 0;\r\n      }\r\n      es.readyState = CLOSED;\r\n    };\r\n\r\n    var onTimeout = function () {\r\n      timeout = 0;\r\n\r\n      if (currentState !== WAITING) {\r\n        if (!wasActivity && abortController != undefined) {\r\n          onFinish(new Error(\"No activity within \" + heartbeatTimeout + \" milliseconds.\" + \" \" + (currentState === CONNECTING ? \"No response received.\" : textLength + \" chars received.\") + \" \" + \"Reconnecting.\"));\r\n          if (abortController != undefined) {\r\n            abortController.abort();\r\n            abortController = undefined;\r\n          }\r\n        } else {\r\n          var nextHeartbeat = Math.max((wasActivity || Date.now()) + heartbeatTimeout - Date.now(), 1);\r\n          wasActivity = false;\r\n          timeout = setTimeout(function () {\r\n            onTimeout();\r\n          }, nextHeartbeat);\r\n        }\r\n        return;\r\n      }\r\n\r\n      wasActivity = false;\r\n      textLength = 0;\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, heartbeatTimeout);\r\n\r\n      currentState = CONNECTING;\r\n      dataBuffer = \"\";\r\n      eventTypeBuffer = \"\";\r\n      lastEventIdBuffer = lastEventId;\r\n      textBuffer = \"\";\r\n      fieldStart = 0;\r\n      valueStart = 0;\r\n      state = FIELD_START;\r\n\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=428916\r\n      // Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.\r\n      var requestURL = url;\r\n      if (url.slice(0, 5) !== \"data:\" && url.slice(0, 5) !== \"blob:\") {\r\n        if (lastEventId !== \"\") {\r\n          // Remove the lastEventId parameter if it's already part of the request URL.\r\n          var i = url.indexOf(\"?\");\r\n          requestURL = i === -1 ? url : url.slice(0, i + 1) + url.slice(i + 1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g, function (p, paramName) {\r\n            return paramName === lastEventIdQueryParameterName ? '' : p;\r\n          });\r\n          // Append the current lastEventId to the request URL.\r\n          requestURL += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + lastEventIdQueryParameterName +\"=\" + encodeURIComponent(lastEventId);\r\n        }\r\n      }\r\n      var withCredentials = es.withCredentials;\r\n      var requestHeaders = {};\r\n      requestHeaders[\"Accept\"] = \"text/event-stream\";\r\n      var headers = es.headers;\r\n      if (headers != undefined) {\r\n        for (var name in headers) {\r\n          if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n            requestHeaders[name] = headers[name];\r\n          }\r\n        }\r\n      }\r\n      try {\r\n        abortController = transport.open(xhr, onStart, onProgress, onFinish, requestURL, withCredentials, requestHeaders);\r\n      } catch (error) {\r\n        close();\r\n        throw error;\r\n      }\r\n    };\r\n\r\n    es.url = url;\r\n    es.readyState = CONNECTING;\r\n    es.withCredentials = withCredentials;\r\n    es.headers = headers;\r\n    es._close = close;\r\n\r\n    onTimeout();\r\n  }\r\n\r\n  EventSourcePolyfill.prototype = Object.create(EventTarget.prototype);\r\n  EventSourcePolyfill.prototype.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.prototype.OPEN = OPEN;\r\n  EventSourcePolyfill.prototype.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.close = function () {\r\n    this._close();\r\n  };\r\n\r\n  EventSourcePolyfill.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.OPEN = OPEN;\r\n  EventSourcePolyfill.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.withCredentials = undefined;\r\n\r\n  var R = NativeEventSource\r\n  if (XMLHttpRequest != undefined && (NativeEventSource == undefined || !(\"withCredentials\" in NativeEventSource.prototype))) {\r\n    // Why replace a native EventSource ?\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=444328\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=831392\r\n    // https://code.google.com/p/chromium/issues/detail?id=260144\r\n    // https://code.google.com/p/chromium/issues/detail?id=225654\r\n    // ...\r\n    R = EventSourcePolyfill;\r\n  }\r\n\r\n  (function (factory) {\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n      var v = factory(exports);\r\n      if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === \"function\" && define.amd) {\r\n      define([\"exports\"], factory);\r\n    }\r\n    else {\r\n      factory(global);\r\n    }\r\n  })(function (exports) {\r\n    exports.EventSourcePolyfill = EventSourcePolyfill;\r\n    exports.NativeEventSource = NativeEventSource;\r\n    exports.EventSource = R;\r\n  });\r\n}(typeof globalThis === 'undefined' ? (typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : this) : globalThis));\r\n", "module.exports = require('event-source-polyfill').EventSourcePolyfill;\n", "\"use strict\";\n\nmodule.exports = function (obj, props) {\n  return props.reduce(function (selection, prop) {\n    if (typeof obj[prop] === 'undefined') {\n      return selection;\n    }\n\n    selection[prop] = obj[prop];\n    return selection;\n  }, {});\n};", "\"use strict\";\n\nmodule.exports = function (obj, defaults) {\n  return Object.keys(defaults).concat(Object.keys(obj)).reduce(function (target, prop) {\n    target[prop] = typeof obj[prop] === 'undefined' ? defaults[prop] : obj[prop];\n    return target;\n  }, {});\n};", "\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar polyfilledEventSource = require('@sanity/eventsource');\n\nvar pick = require('../util/pick');\n\nvar defaults = require('../util/defaults');\n\nvar encodeQueryString = require('./encodeQueryString'); // Limit is 16K for a _request_, eg including headers. Have to account for an\n// unknown range of headers, but an average EventSource request from Chrome seems\n// to have around 700 bytes of cruft, so let us account for 1.2K to be \"safe\"\n\n\nvar MAX_URL_LENGTH = 16000 - 1200;\nvar EventSource = polyfilledEventSource;\nvar possibleOptions = ['includePreviousRevision', 'includeResult', 'visibility', 'effectFormat', 'tag'];\nvar defaultOptions = {\n  includeResult: true\n};\n\nmodule.exports = function listen(query, params) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _this$clientConfig = this.clientConfig,\n      url = _this$clientConfig.url,\n      token = _this$clientConfig.token,\n      withCredentials = _this$clientConfig.withCredentials,\n      requestTagPrefix = _this$clientConfig.requestTagPrefix;\n  var tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join('.') : opts.tag;\n\n  var options = _objectSpread(_objectSpread({}, defaults(opts, defaultOptions)), {}, {\n    tag: tag\n  });\n\n  var listenOpts = pick(options, possibleOptions);\n  var qs = encodeQueryString({\n    query: query,\n    params: params,\n    options: listenOpts,\n    tag: tag\n  });\n  var uri = \"\".concat(url).concat(this.getDataUrl('listen', qs));\n\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(function (observer) {\n      return observer.error(new Error('Query too large for listener'));\n    });\n  }\n\n  var listenFor = options.events ? options.events : ['mutation'];\n  var shouldEmitReconnect = listenFor.indexOf('reconnect') !== -1;\n  var esOptions = {};\n\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n\n  return new Observable(function (observer) {\n    var es = getEventSource();\n    var reconnectTimer;\n    var stopped = false;\n\n    function onError() {\n      if (stopped) {\n        return;\n      }\n\n      emitReconnect(); // Allow event handlers of `emitReconnect` to cancel/close the reconnect attempt\n\n      if (stopped) {\n        return;\n      } // Unless we've explicitly stopped the ES (in which case `stopped` should be true),\n      // we should never be in a disconnected state. By default, EventSource will reconnect\n      // automatically, in which case it sets readyState to `CONNECTING`, but in some cases\n      // (like when a laptop lid is closed), it closes the connection. In these cases we need\n      // to explicitly reconnect.\n\n\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n\n    function onMessage(evt) {\n      var event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n\n    function onDisconnect(evt) {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n\n    function unsubscribe() {\n      es.removeEventListener('error', onError, false);\n      es.removeEventListener('channelError', onChannelError, false);\n      es.removeEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return es.removeEventListener(type, onMessage, false);\n      });\n      es.close();\n    }\n\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: 'reconnect'\n        });\n      }\n    }\n\n    function getEventSource() {\n      var evs = new EventSource(uri, esOptions);\n      evs.addEventListener('error', onError, false);\n      evs.addEventListener('channelError', onChannelError, false);\n      evs.addEventListener('disconnect', onDisconnect, false);\n      listenFor.forEach(function (type) {\n        return evs.addEventListener(type, onMessage, false);\n      });\n      return evs;\n    }\n\n    function open() {\n      es = getEventSource();\n    }\n\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n\n    return stop;\n  });\n};\n\nfunction parseEvent(event) {\n  try {\n    var data = event.data && JSON.parse(event.data) || {};\n    return assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\n\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n\n  var evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\n\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || 'Unknown listener error';\n  }\n\n  if (err.error.description) {\n    return err.error.description;\n  }\n\n  return typeof err.error === 'string' ? err.error : JSON.stringify(err.error, null, 2);\n}", "\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar validators = require('../validators');\n\nvar getSelection = require('../util/getSelection');\n\nvar encodeQueryString = require('./encodeQueryString');\n\nvar Transaction = require('./transaction');\n\nvar Patch = require('./patch');\n\nvar listen = require('./listen');\n\nvar excludeFalsey = function excludeFalsey(param, defValue) {\n  var value = typeof param === 'undefined' ? defValue : param;\n  return param === false ? undefined : value;\n};\n\nvar getMutationQuery = function getMutationQuery() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || 'sync',\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  };\n};\n\nvar isResponse = function isResponse(event) {\n  return event.type === 'response';\n};\n\nvar getBody = function getBody(event) {\n  return event.body;\n};\n\nvar indexBy = function indexBy(docs, attr) {\n  return docs.reduce(function (indexed, doc) {\n    indexed[attr(doc)] = doc;\n    return indexed;\n  }, Object.create(null));\n};\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nvar getQuerySizeLimit = 11264;\nmodule.exports = {\n  listen: listen,\n  getDataUrl: function getDataUrl(operation, path) {\n    var config = this.clientConfig;\n    var catalog = validators.hasDataset(config);\n    var baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    var uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, '$1');\n  },\n  fetch: function fetch(query, params) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var mapResponse = options.filterResponse === false ? function (res) {\n      return res;\n    } : function (res) {\n      return res.result;\n    };\n\n    var observable = this._dataRequest('query', {\n      query: query,\n      params: params\n    }, options).pipe(map(mapResponse));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocument: function getDocument(id) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', id),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      return event.body.documents && event.body.documents[0];\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  getDocuments: function getDocuments(ids) {\n    var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var options = {\n      uri: this.getDataUrl('doc', ids.join(',')),\n      json: true,\n      tag: opts.tag\n    };\n\n    var observable = this._requestObservable(options).pipe(filter(isResponse), map(function (event) {\n      var indexed = indexBy(event.body.documents || [], function (doc) {\n        return doc._id;\n      });\n      return ids.map(function (id) {\n        return indexed[id] || null;\n      });\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  },\n  create: function create(doc, options) {\n    return this._create(doc, 'create', options);\n  },\n  createIfNotExists: function createIfNotExists(doc, options) {\n    validators.requireDocumentId('createIfNotExists', doc);\n    return this._create(doc, 'createIfNotExists', options);\n  },\n  createOrReplace: function createOrReplace(doc, options) {\n    validators.requireDocumentId('createOrReplace', doc);\n    return this._create(doc, 'createOrReplace', options);\n  },\n  patch: function patch(selector, operations) {\n    return new Patch(selector, operations, this);\n  },\n  delete: function _delete(selection, options) {\n    return this.dataRequest('mutate', {\n      mutations: [{\n        delete: getSelection(selection)\n      }]\n    }, options);\n  },\n  mutate: function mutate(mutations, options) {\n    var mut = mutations instanceof Patch || mutations instanceof Transaction ? mutations.serialize() : mutations;\n    var muts = Array.isArray(mut) ? mut : [mut];\n    var transactionId = options && options.transactionId;\n    return this.dataRequest('mutate', {\n      mutations: muts,\n      transactionId: transactionId\n    }, options);\n  },\n  transaction: function transaction(operations) {\n    return new Transaction(operations, this);\n  },\n  dataRequest: function dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var request = this._dataRequest(endpoint, body, options);\n\n    return this.isPromiseAPI() ? toPromise(request) : request;\n  },\n  _dataRequest: function _dataRequest(endpoint, body) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var isMutation = endpoint === 'mutate';\n    var isQuery = endpoint === 'query'; // Check if the query string is within a configured threshold,\n    // in which case we can use GET. Otherwise, use POST.\n\n    var strQuery = !isMutation && encodeQueryString(body);\n    var useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    var stringQuery = useGet ? strQuery : '';\n    var returnFirst = options.returnFirst;\n    var timeout = options.timeout,\n        token = options.token,\n        tag = options.tag,\n        headers = options.headers;\n    var uri = this.getDataUrl(endpoint, stringQuery);\n    var reqOptions = {\n      method: useGet ? 'GET' : 'POST',\n      uri: uri,\n      json: true,\n      body: useGet ? undefined : body,\n      query: isMutation && getMutationQuery(options),\n      timeout: timeout,\n      headers: headers,\n      token: token,\n      tag: tag,\n      canUseCdn: isQuery\n    };\n    return this._requestObservable(reqOptions).pipe(filter(isResponse), map(getBody), map(function (res) {\n      if (!isMutation) {\n        return res;\n      } // Should we return documents?\n\n\n      var results = res.results || [];\n\n      if (options.returnDocuments) {\n        return returnFirst ? results[0] && results[0].document : results.map(function (mut) {\n          return mut.document;\n        });\n      } // Return a reduced subset\n\n\n      var key = returnFirst ? 'documentId' : 'documentIds';\n      var ids = returnFirst ? results[0] && results[0].id : results.map(function (mut) {\n        return mut.id;\n      });\n      return _defineProperty({\n        transactionId: res.transactionId,\n        results: results\n      }, key, ids);\n    }));\n  },\n  _create: function _create(doc, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var mutation = _defineProperty({}, op, doc);\n\n    var opts = assign({\n      returnFirst: true,\n      returnDocuments: true\n    }, options);\n    return this.dataRequest('mutate', {\n      mutations: [mutation]\n    }, opts);\n  }\n};", "\"use strict\";\n\nvar assign = require('object-assign');\n\nvar validate = require('../validators');\n\nfunction DatasetsClient(client) {\n  this.request = client.request.bind(client);\n}\n\nassign(DatasetsClient.prototype, {\n  create: function create(name, options) {\n    return this._modify('PUT', name, options);\n  },\n  edit: function edit(name, options) {\n    return this._modify('PATCH', name, options);\n  },\n  delete: function _delete(name) {\n    return this._modify('DELETE', name);\n  },\n  list: function list() {\n    return this.request({\n      uri: '/datasets'\n    });\n  },\n  _modify: function _modify(method, name, body) {\n    validate.dataset(name);\n    return this.request({\n      method: method,\n      uri: \"/datasets/\".concat(name),\n      body: body\n    });\n  }\n});\nmodule.exports = DatasetsClient;", "\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction ProjectsClient(client) {\n  this.client = client;\n}\n\nassign(ProjectsClient.prototype, {\n  list: function list() {\n    return this.client.request({\n      uri: '/projects'\n    });\n  },\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/projects/\".concat(id)\n    });\n  }\n});\nmodule.exports = ProjectsClient;", "\"use strict\";\n\nmodule.exports = function (params) {\n  var qs = [];\n\n  for (var key in params) {\n    if (params.hasOwnProperty(key)) {\n      qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(params[key])));\n    }\n  }\n\n  return qs.length > 0 ? \"?\".concat(qs.join('&')) : '';\n};", "\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = require('object-assign');\n\nvar _require = require('../util/observable'),\n    map = _require.map,\n    filter = _require.filter;\n\nvar queryString = require('../http/queryString');\n\nvar validators = require('../validators');\n\nfunction AssetsClient(client) {\n  this.client = client;\n}\n\nfunction optionsFromFile(opts, file) {\n  if (typeof window === 'undefined' || !(file instanceof window.File)) {\n    return opts;\n  }\n\n  return assign({\n    filename: opts.preserveFilename === false ? undefined : file.name,\n    contentType: file.type\n  }, opts);\n}\n\nassign(AssetsClient.prototype, {\n  /**\n   * Upload an asset\n   *\n   * @param  {String} assetType `image` or `file`\n   * @param  {File|Blob|Buffer|ReadableStream} body File to upload\n   * @param  {Object}  opts Options for the upload\n   * @param  {Boolean} opts.preserveFilename Whether or not to preserve the original filename (default: true)\n   * @param  {String}  opts.filename Filename for this file (optional)\n   * @param  {Number}  opts.timeout  Milliseconds to wait before timing the request out (default: 0)\n   * @param  {String}  opts.contentType Mime type of the file\n   * @param  {Array}   opts.extract Array of metadata parts to extract from image.\n   *                                 Possible values: `location`, `exif`, `image`, `palette`\n   * @param  {String}  opts.label Label\n   * @param  {String}  opts.title Title\n   * @param  {String}  opts.description Description\n   * @param  {String}  opts.creditLine The credit to person(s) and/or organization(s) required by the supplier of the image to be used when published\n   * @param  {Object}  opts.source Source data (when the asset is from an external service)\n   * @param  {String}  opts.source.id The (u)id of the asset within the source, i.e. 'i-f323r1E'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.name The name of the source, i.e. 'unsplash'\n   *                                  Required if source is defined\n   * @param  {String}  opts.source.url A url to where to find the asset, or get more info about it in the source\n   *                                  Optional\n   * @return {Promise} Resolves with the created asset document\n   */\n  upload: function upload(assetType, body) {\n    var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    validators.validateAssetType(assetType); // If an empty array is given, explicitly set `none` to override API defaults\n\n    var meta = opts.extract || undefined;\n\n    if (meta && !meta.length) {\n      meta = ['none'];\n    }\n\n    var dataset = validators.hasDataset(this.client.clientConfig);\n    var assetEndpoint = assetType === 'image' ? 'images' : 'files';\n    var options = optionsFromFile(opts, body);\n    var tag = options.tag,\n        label = options.label,\n        title = options.title,\n        description = options.description,\n        creditLine = options.creditLine,\n        filename = options.filename,\n        source = options.source;\n    var query = {\n      label: label,\n      title: title,\n      description: description,\n      filename: filename,\n      meta: meta,\n      creditLine: creditLine\n    };\n\n    if (source) {\n      query.sourceId = source.id;\n      query.sourceName = source.name;\n      query.sourceUrl = source.url;\n    }\n\n    var observable = this.client._requestObservable({\n      tag: tag,\n      method: 'POST',\n      timeout: options.timeout || 0,\n      uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n      headers: options.contentType ? {\n        'Content-Type': options.contentType\n      } : {},\n      query: query,\n      body: body\n    });\n\n    return this.client.isPromiseAPI() ? observable.pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body.document;\n    })).toPromise() : observable;\n  },\n  delete: function _delete(type, id) {\n    // eslint-disable-next-line no-console\n    console.warn('client.assets.delete() is deprecated, please use client.delete(<document-id>)');\n    var docId = id || '';\n\n    if (!/^(image|file)-/.test(docId)) {\n      docId = \"\".concat(type, \"-\").concat(docId);\n    } else if (type._id) {\n      // We could be passing an entire asset document instead of an ID\n      docId = type._id;\n    }\n\n    validators.hasDataset(this.client.clientConfig);\n    return this.client.delete(docId);\n  },\n  getImageUrl: function getImageUrl(ref, query) {\n    var id = ref._ref || ref;\n\n    if (typeof id !== 'string') {\n      throw new Error('getImageUrl() needs either an object with a _ref, or a string with an asset document ID');\n    }\n\n    if (!/^image-[A-Za-z0-9_]+-\\d+x\\d+-[a-z]{1,5}$/.test(id)) {\n      throw new Error(\"Unsupported asset ID \\\"\".concat(id, \"\\\". URL generation only works for auto-generated IDs.\"));\n    }\n\n    var _id$split = id.split('-'),\n        _id$split2 = _slicedToArray(_id$split, 4),\n        assetId = _id$split2[1],\n        size = _id$split2[2],\n        format = _id$split2[3];\n\n    validators.hasDataset(this.client.clientConfig);\n    var _this$client$clientCo = this.client.clientConfig,\n        projectId = _this$client$clientCo.projectId,\n        dataset = _this$client$clientCo.dataset;\n    var qs = query ? queryString(query) : '';\n    return \"https://cdn.sanity.io/images/\".concat(projectId, \"/\").concat(dataset, \"/\").concat(assetId, \"-\").concat(size, \".\").concat(format).concat(qs);\n  }\n});\nmodule.exports = AssetsClient;", "\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction UsersClient(client) {\n  this.client = client;\n}\n\nassign(UsersClient.prototype, {\n  getById: function getById(id) {\n    return this.client.request({\n      uri: \"/users/\".concat(id)\n    });\n  }\n});\nmodule.exports = UsersClient;", "\"use strict\";\n\nvar assign = require('object-assign');\n\nfunction AuthClient(client) {\n  this.client = client;\n}\n\nassign(AuthClient.prototype, {\n  getLoginProviders: function getLoginProviders() {\n    return this.client.request({\n      uri: '/auth/providers'\n    });\n  },\n  logout: function logout() {\n    return this.client.request({\n      uri: '/auth/logout',\n      method: 'POST'\n    });\n  }\n});\nmodule.exports = AuthClient;", "module.exports = function Pubsub() {\n  var subscribers = []\n  return {\n    subscribe: subscribe,\n    publish: publish\n  }\n  function subscribe(subscriber) {\n    subscribers.push(subscriber)\n    return function unsubscribe() {\n      var idx = subscribers.indexOf(subscriber)\n      if (idx > -1) {\n        subscribers.splice(idx, 1)\n      }\n    }\n  }\n  function publish() {\n    for (var i = 0; i < subscribers.length; i++) {\n      subscribers[i].apply(null, arguments)\n    }\n  }\n}", "module.exports = middleware => {\n  const applyMiddleware = (hook, defaultValue, ...args) => {\n    const bailEarly = hook === 'onError'\n\n    let value = defaultValue\n    for (let i = 0; i < middleware[hook].length; i++) {\n      const handler = middleware[hook][i]\n      value = handler(value, ...args)\n\n      if (bailEarly && !value) {\n        break\n      }\n    }\n\n    return value\n  }\n\n  return applyMiddleware\n}\n", "'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n", "'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , controlOrWhitespace = /^[\\x00-\\x20\\u00a0\\u1680\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]+/\n  , CRHTLF = /[\\n\\r\\t]/g\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , port = /:\\d+$/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\\\/]+)?([\\S\\s]*)/i\n  , windowsDriveLetter = /^[a-zA-Z]:/;\n\n/**\n * Remove control characters and whitespace from the beginning of a string.\n *\n * @param {Object|String} str String to trim.\n * @returns {String} A new string representing `str` stripped of control\n *     characters and whitespace from its beginning.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(controlOrWhitespace, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address, url) {     // Sanitize what is left of the address\n    return isSpecial(url.protocol) ? address.replace(/\\\\/g, '/') : address;\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d*)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * Check whether a protocol scheme is special.\n *\n * @param {String} The protocol scheme of the URL\n * @return {Boolean} `true` if the protocol scheme is special, else `false`\n * @private\n */\nfunction isSpecial(scheme) {\n  return (\n    scheme === 'file:' ||\n    scheme === 'ftp:' ||\n    scheme === 'http:' ||\n    scheme === 'https:' ||\n    scheme === 'ws:' ||\n    scheme === 'wss:'\n  );\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @param {Object} location\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address, location) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n  location = location || {};\n\n  var match = protocolre.exec(address);\n  var protocol = match[1] ? match[1].toLowerCase() : '';\n  var forwardSlashes = !!match[2];\n  var otherSlashes = !!match[3];\n  var slashesCount = 0;\n  var rest;\n\n  if (forwardSlashes) {\n    if (otherSlashes) {\n      rest = match[2] + match[3] + match[4];\n      slashesCount = match[2].length + match[3].length;\n    } else {\n      rest = match[2] + match[4];\n      slashesCount = match[2].length;\n    }\n  } else {\n    if (otherSlashes) {\n      rest = match[3] + match[4];\n      slashesCount = match[3].length;\n    } else {\n      rest = match[4]\n    }\n  }\n\n  if (protocol === 'file:') {\n    if (slashesCount >= 2) {\n      rest = rest.slice(2);\n    }\n  } else if (isSpecial(protocol)) {\n    rest = match[4];\n  } else if (protocol) {\n    if (forwardSlashes) {\n      rest = rest.slice(2);\n    }\n  } else if (slashesCount >= 2 && isSpecial(location.protocol)) {\n    rest = match[4];\n  }\n\n  return {\n    protocol: protocol,\n    slashes: forwardSlashes || isSpecial(protocol),\n    slashesCount: slashesCount,\n    rest: rest\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n  address = address.replace(CRHTLF, '');\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '', location);\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (\n    extracted.protocol === 'file:' && (\n      extracted.slashesCount !== 2 || windowsDriveLetter.test(address)) ||\n    (!extracted.slashes &&\n      (extracted.protocol ||\n        extracted.slashesCount < 2 ||\n        !isSpecial(url.protocol)))\n  ) {\n    instructions[3] = [/(.*)/, 'pathname'];\n  }\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address, url);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      index = parse === '@'\n        ? address.lastIndexOf(parse)\n        : address.indexOf(parse);\n\n      if (~index) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && isSpecial(url.protocol)) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n\n  if (url.auth) {\n    index = url.auth.indexOf(':');\n\n    if (~index) {\n      url.username = url.auth.slice(0, index);\n      url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n      url.password = url.auth.slice(index + 1);\n      url.password = encodeURIComponent(decodeURIComponent(url.password))\n    } else {\n      url.username = encodeURIComponent(decodeURIComponent(url.auth));\n    }\n\n    url.auth = url.password ? url.username +':'+ url.password : url.username;\n  }\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (port.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    case 'username':\n    case 'password':\n      url[part] = encodeURIComponent(value);\n      break;\n\n    case 'auth':\n      var index = value.indexOf(':');\n\n      if (~index) {\n        url.username = value.slice(0, index);\n        url.username = encodeURIComponent(decodeURIComponent(url.username));\n\n        url.password = value.slice(index + 1);\n        url.password = encodeURIComponent(decodeURIComponent(url.password));\n      } else {\n        url.username = encodeURIComponent(decodeURIComponent(value));\n      }\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.auth = url.password ? url.username +':'+ url.password : url.username;\n\n  url.origin = url.protocol !== 'file:' && isSpecial(url.protocol) && url.host\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , host = url.host\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result =\n    protocol +\n    ((url.protocol && url.slashes) || isSpecial(url.protocol) ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  } else if (url.password) {\n    result += ':'+ url.password;\n    result += '@';\n  } else if (\n    url.protocol !== 'file:' &&\n    isSpecial(url.protocol) &&\n    !host &&\n    url.pathname !== '/'\n  ) {\n    //\n    // Add back the empty userinfo, otherwise the original invalid URL\n    // might be transformed into a valid one with `url.pathname` as host.\n    //\n    result += '@';\n  }\n\n  //\n  // Trailing colon is removed from `url.host` when it is parsed. If it still\n  // ends with a colon, then add back the trailing colon that was removed. This\n  // prevents an invalid URL from being transformed into a valid one.\n  //\n  if (host[host.length - 1] === ':' || (port.test(url.hostname) && !url.port)) {\n    host += ':';\n  }\n\n  result += host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n", "const objectAssign = require('object-assign')\nconst urlParse = require('url-parse')\n\nconst isReactNative = typeof navigator === 'undefined' ? false : navigator.product === 'ReactNative'\n\nconst has = Object.prototype.hasOwnProperty\nconst defaultOptions = {timeout: isReactNative ? 60000 : 120000}\n\nmodule.exports = opts => {\n  const options =\n    typeof opts === 'string'\n      ? objectAssign({url: opts}, defaultOptions)\n      : objectAssign({}, defaultOptions, opts)\n\n  // Parse URL into parts\n  const url = urlParse(\n    options.url,\n    {}, // Don't use current browser location\n    true // Parse query strings\n  )\n\n  // Normalize timeouts\n  options.timeout = normalizeTimeout(options.timeout)\n\n  // Shallow-merge (override) existing query params\n  if (options.query) {\n    url.query = objectAssign({}, url.query, removeUndefined(options.query))\n  }\n\n  // Implicit POST if we have not specified a method but have a body\n  options.method =\n    options.body && !options.method ? 'POST' : (options.method || 'GET').toUpperCase()\n\n  // Stringify URL\n  options.url = url.toString(stringifyQueryString)\n\n  return options\n}\n\nfunction stringifyQueryString(obj) {\n  const pairs = []\n  for (const key in obj) {\n    if (has.call(obj, key)) {\n      push(key, obj[key])\n    }\n  }\n\n  return pairs.length ? pairs.join('&') : ''\n\n  function push(key, val) {\n    if (Array.isArray(val)) {\n      val.forEach(item => push(key, item))\n    } else {\n      pairs.push([key, val].map(encodeURIComponent).join('='))\n    }\n  }\n}\n\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false\n  }\n\n  if (time.connect || time.socket) {\n    return time\n  }\n\n  const delay = Number(time)\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout)\n  }\n\n  return {connect: delay, socket: delay}\n}\n\nfunction removeUndefined(obj) {\n  const target = {}\n  for (const key in obj) {\n    if (obj[key] !== undefined) {\n      target[key] = obj[key]\n    }\n  }\n  return target\n}\n", "const validUrl = /^https?:\\/\\//i\n\nmodule.exports = options => {\n  if (!validUrl.test(options.url)) {\n    throw new Error(`\"${options.url}\" is not a valid URL`)\n  }\n}\n", "/**\n * This file is only used for the browser version of `same-origin`.\n * Used to bring down the size of the browser bundle.\n */\n'use strict';\n\nvar regex = /^(?:(?:(?:([^:\\/#\\?]+:)?(?:(?:\\/\\/)((?:((?:[^:@\\/#\\?]+)(?:\\:(?:[^:@\\/#\\?]+))?)@)?(([^:\\/#\\?\\]\\[]+|\\[[^\\/\\]@#?]+\\])(?:\\:([0-9]+))?))?)?)?((?:\\/?(?:[^\\/\\?#]+\\/+)*)(?:[^\\?#]*)))?(\\?[^#]+)?)(#.*)?/;\n\nmodule.exports = {\n    regex: regex,\n    parse: function(url) {\n        var match = regex.exec(url);\n        if (!match) {\n            return {};\n        }\n\n        return {\n            protocol: (match[1] || '').toLowerCase() || undefined,\n            hostname: (match[5] || '').toLowerCase() || undefined,\n            port: match[6] || undefined\n        };\n    }\n};", "'use strict';\n\nvar url = require('url');\n\nmodule.exports = function(uri1, uri2, ieMode) {\n    if (uri1 === uri2) {\n        return true;\n    }\n\n    var url1 = url.parse(uri1, false, true);\n    var url2 = url.parse(uri2, false, true);\n\n    var url1Port = url1.port|0 || (url1.protocol === 'https' ? 443 : 80);\n    var url2Port = url2.port|0 || (url2.protocol === 'https' ? 443 : 80);\n\n    var match = {\n        proto: url1.protocol === url2.protocol,\n        hostname: url1.hostname === url2.hostname,\n        port: url1Port === url2Port\n    };\n\n    return ((match.proto && match.hostname) && (match.port || ieMode));\n};", "var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n", "/**\n * Mimicks the XMLHttpRequest API with only the parts needed for get-it's XHR adapter\n */\nfunction FetchXhr() {\n  this.readyState = 0 // Unsent\n}\nFetchXhr.prototype.open = function(method, url) {\n  this._method = method\n  this._url = url\n  this._resHeaders = ''\n  this.readyState = 1 // Open\n  this.onreadystatechange()\n}\nFetchXhr.prototype.abort = function() {\n  if (this._controller) {\n    this._controller.abort()\n  }\n}\nFetchXhr.prototype.getAllResponseHeaders = function() {\n  return this._resHeaders\n}\nFetchXhr.prototype.setRequestHeader = function(key, value) {\n  this._headers = this._headers || {}\n  this._headers[key] = value\n}\nFetchXhr.prototype.send = function(body) {\n  // eslint-disable-next-line no-multi-assign\n  const ctrl = (this._controller = typeof AbortController === 'function' && new AbortController())\n  const textBody = this.responseType !== 'arraybuffer'\n  const options = {\n    method: this._method,\n    headers: this._headers,\n    signal: ctrl && ctrl.signal,\n    body\n  }\n\n  // Some environments (like CloudFlare workers) don't support credentials in\n  // RequestInitDict, and there doesn't seem to be any easy way to check for it,\n  // so for now let's just make do with a window check :/\n  if (typeof window !== 'undefined') {\n    options.credentials = this.withCredentials ? 'include' : 'omit'\n  }\n\n  fetch(this._url, options)\n    .then(res => {\n      res.headers.forEach((value, key) => {\n        this._resHeaders += `${key}: ${value}\\r\\n`\n      })\n      this.status = res.status\n      this.statusText = res.statusText\n      this.readyState = 3 // Loading\n      return textBody ? res.text() : res.arrayBuffer()\n    })\n    .then(resBody => {\n      if (textBody) {\n        this.responseText = resBody\n      } else {\n        this.response = resBody\n      }\n      this.readyState = 4 // Done\n      this.onreadystatechange()\n    })\n    .catch(err => {\n      if (err.name === 'AbortError') {\n        this.onabort()\n        return\n      }\n\n      this.onerror(err)\n    })\n}\n\nmodule.exports = FetchXhr\n", "/* eslint max-depth: [\"error\", 4] */\nconst sameOrigin = require('same-origin')\nconst parseHeaders = require('parse-headers')\nconst FetchXhr = require('./browser/fetchXhr')\n\nconst noop = function() {\n  /* intentional noop */\n}\n\nconst win = typeof window === 'undefined' ? undefined : window\nconst adapter = win ? 'xhr' : 'fetch'\n\nlet XmlHttpRequest = typeof XMLHttpRequest === 'function' ? XMLHttpRequest : noop\nconst hasXhr2 = 'withCredentials' in new XmlHttpRequest()\n// eslint-disable-next-line no-undef\nconst XDR = typeof XDomainRequest === 'undefined' ? undefined : XDomainRequest\nlet CrossDomainRequest = hasXhr2 ? XmlHttpRequest : XDR\n\n// Fallback to fetch-based XHR polyfill for non-browser environments like Workers\nif (!win) {\n  XmlHttpRequest = FetchXhr\n  CrossDomainRequest = FetchXhr\n}\n\nmodule.exports = (context, callback) => {\n  const opts = context.options\n  const options = context.applyMiddleware('finalizeOptions', opts)\n  const timers = {}\n\n  // Deep-checking window.location because of react native, where `location` doesn't exist\n  const cors = win && win.location && !sameOrigin(win.location.href, options.url)\n\n  // Allow middleware to inject a response, for instance in the case of caching or mocking\n  const injectedResponse = context.applyMiddleware('interceptRequest', undefined, {\n    adapter,\n    context\n  })\n\n  // If middleware injected a response, treat it as we normally would and return it\n  // Do note that the injected response has to be reduced to a cross-environment friendly response\n  if (injectedResponse) {\n    const cbTimer = setTimeout(callback, 0, null, injectedResponse)\n    const cancel = () => clearTimeout(cbTimer)\n    return {abort: cancel}\n  }\n\n  // We'll want to null out the request on success/failure\n  let xhr = cors ? new CrossDomainRequest() : new XmlHttpRequest()\n\n  const isXdr = win && win.XDomainRequest && xhr instanceof win.XDomainRequest\n  const headers = options.headers\n  const delays = options.timeout\n\n  // Request state\n  let aborted = false\n  let loaded = false\n  let timedOut = false\n\n  // Apply event handlers\n  xhr.onerror = onError\n  xhr.ontimeout = onError\n  xhr.onabort = () => {\n    stopTimers(true)\n    aborted = true\n  }\n\n  // IE9 must have onprogress be set to a unique function\n  xhr.onprogress = () => {\n    /* intentional noop */\n  }\n\n  const loadEvent = isXdr ? 'onload' : 'onreadystatechange'\n  xhr[loadEvent] = () => {\n    // Prevent request from timing out\n    resetTimers()\n\n    if (aborted || (xhr.readyState !== 4 && !isXdr)) {\n      return\n    }\n\n    // Will be handled by onError\n    if (xhr.status === 0) {\n      return\n    }\n\n    onLoad()\n  }\n\n  // @todo two last options to open() is username/password\n  xhr.open(\n    options.method,\n    options.url,\n    true // Always async\n  )\n\n  // Some options need to be applied after open\n  xhr.withCredentials = !!options.withCredentials\n\n  // Set headers\n  if (headers && xhr.setRequestHeader) {\n    for (const key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key])\n      }\n    }\n  } else if (headers && isXdr) {\n    throw new Error('Headers cannot be set on an XDomainRequest object')\n  }\n\n  if (options.rawBody) {\n    xhr.responseType = 'arraybuffer'\n  }\n\n  // Let middleware know we're about to do a request\n  context.applyMiddleware('onRequest', {options, adapter, request: xhr, context})\n\n  xhr.send(options.body || null)\n\n  // Figure out which timeouts to use (if any)\n  if (delays) {\n    timers.connect = setTimeout(() => timeoutRequest('ETIMEDOUT'), delays.connect)\n  }\n\n  return {abort}\n\n  function abort() {\n    aborted = true\n\n    if (xhr) {\n      xhr.abort()\n    }\n  }\n\n  function timeoutRequest(code) {\n    timedOut = true\n    xhr.abort()\n    const error = new Error(\n      code === 'ESOCKETTIMEDOUT'\n        ? `Socket timed out on request to ${options.url}`\n        : `Connection timed out on request to ${options.url}`\n    )\n    error.code = code\n    context.channels.error.publish(error)\n  }\n\n  function resetTimers() {\n    if (!delays) {\n      return\n    }\n\n    stopTimers()\n    timers.socket = setTimeout(() => timeoutRequest('ESOCKETTIMEDOUT'), delays.socket)\n  }\n\n  function stopTimers(force) {\n    // Only clear the connect timeout if we've got a connection\n    if (force || aborted || (xhr.readyState >= 2 && timers.connect)) {\n      clearTimeout(timers.connect)\n    }\n\n    if (timers.socket) {\n      clearTimeout(timers.socket)\n    }\n  }\n\n  function onError(error) {\n    if (loaded) {\n      return\n    }\n\n    // Clean up\n    stopTimers(true)\n    loaded = true\n    xhr = null\n\n    // Annoyingly, details are extremely scarce and hidden from us.\n    // We only really know that it is a network error\n    const err = error || new Error(`Network error while attempting to reach ${options.url}`)\n    err.isNetworkError = true\n    err.request = options\n    callback(err)\n  }\n\n  function reduceResponse() {\n    let statusCode = xhr.status\n    let statusMessage = xhr.statusText\n\n    if (isXdr && statusCode === undefined) {\n      // IE8 CORS GET successful response doesn't have a status field, but body is fine\n      statusCode = 200\n    } else if (statusCode > 12000 && statusCode < 12156) {\n      // Yet another IE quirk where it emits weird status codes on network errors\n      // https://support.microsoft.com/en-us/kb/193625\n      return onError()\n    } else {\n      // Another IE bug where HTTP 204 somehow ends up as 1223\n      statusCode = xhr.status === 1223 ? 204 : xhr.status\n      statusMessage = xhr.status === 1223 ? 'No Content' : statusMessage\n    }\n\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: isXdr ? {} : parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: statusCode,\n      statusMessage: statusMessage\n    }\n  }\n\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return\n    }\n\n    if (xhr.status === 0) {\n      onError(new Error('Unknown XHR error'))\n      return\n    }\n\n    // Prevent being called twice\n    stopTimers()\n    loaded = true\n    callback(null, reduceResponse())\n  }\n}\n", "module.exports = require('./node-request')\n", "const pubsub = require('nano-pubsub')\nconst middlewareReducer = require('./util/middlewareReducer')\nconst processOptions = require('./middleware/defaultOptionsProcessor')\nconst validateOptions = require('./middleware/defaultOptionsValidator')\nconst httpRequester = require('./request') // node-request in node, browser-request in browsers\n\nconst channelNames = ['request', 'response', 'progress', 'error', 'abort']\nconst middlehooks = [\n  'processOptions',\n  'validateOptions',\n  'interceptRequest',\n  'finalizeOptions',\n  'onRequest',\n  'onResponse',\n  'onError',\n  'onReturn',\n  'onHeaders'\n]\n\nmodule.exports = function createRequester(initMiddleware = [], httpRequest = httpRequester) {\n  const loadedMiddleware = []\n  const middleware = middlehooks.reduce(\n    (ware, name) => {\n      ware[name] = ware[name] || []\n      return ware\n    },\n    {\n      processOptions: [processOptions],\n      validateOptions: [validateOptions]\n    }\n  )\n\n  function request(opts) {\n    const channels = channelNames.reduce((target, name) => {\n      target[name] = pubsub()\n      return target\n    }, {})\n\n    // Prepare a middleware reducer that can be reused throughout the lifecycle\n    const applyMiddleware = middlewareReducer(middleware)\n\n    // Parse the passed options\n    const options = applyMiddleware('processOptions', opts)\n\n    // Validate the options\n    applyMiddleware('validateOptions', options)\n\n    // Build a context object we can pass to child handlers\n    const context = {options, channels, applyMiddleware}\n\n    // We need to hold a reference to the current, ongoing request,\n    // in order to allow cancellation. In the case of the retry middleware,\n    // a new request might be triggered\n    let ongoingRequest = null\n    const unsubscribe = channels.request.subscribe(ctx => {\n      // Let request adapters (node/browser) perform the actual request\n      ongoingRequest = httpRequest(ctx, (err, res) => onResponse(err, res, ctx))\n    })\n\n    // If we abort the request, prevent further requests from happening,\n    // and be sure to cancel any ongoing request (obviously)\n    channels.abort.subscribe(() => {\n      unsubscribe()\n      if (ongoingRequest) {\n        ongoingRequest.abort()\n      }\n    })\n\n    // See if any middleware wants to modify the return value - for instance\n    // the promise or observable middlewares\n    const returnValue = applyMiddleware('onReturn', channels, context)\n\n    // If return value has been modified by a middleware, we expect the middleware\n    // to publish on the 'request' channel. If it hasn't been modified, we want to\n    // trigger it right away\n    if (returnValue === channels) {\n      channels.request.publish(context)\n    }\n\n    return returnValue\n\n    function onResponse(reqErr, res, ctx) {\n      let error = reqErr\n      let response = res\n\n      // We're processing non-errors first, in case a middleware converts the\n      // response into an error (for instance, status >= 400 == HttpError)\n      if (!error) {\n        try {\n          response = applyMiddleware('onResponse', res, ctx)\n        } catch (err) {\n          response = null\n          error = err\n        }\n      }\n\n      // Apply error middleware - if middleware return the same (or a different) error,\n      // publish as an error event. If we *don't* return an error, assume it has been handled\n      error = error && applyMiddleware('onError', error, ctx)\n\n      // Figure out if we should publish on error/response channels\n      if (error) {\n        channels.error.publish(error)\n      } else if (response) {\n        channels.response.publish(response)\n      }\n    }\n  }\n\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error('Tried to add middleware that resolved to falsey value')\n    }\n\n    if (typeof newMiddleware === 'function') {\n      throw new Error(\n        'Tried to add middleware that was a function. It probably expects you to pass options to it.'\n      )\n    }\n\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error(\n        'Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event'\n      )\n    }\n\n    middlehooks.forEach(key => {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key])\n      }\n    })\n\n    loadedMiddleware.push(newMiddleware)\n    return request\n  }\n\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware)\n  }\n\n  initMiddleware.forEach(request.use)\n\n  return request\n}\n", "module.exports = require('./lib-node')\n", "/* global globalThis */\n/* eslint-disable no-negated-condition */\nif (typeof globalThis !== 'undefined') {\n  module.exports = globalThis\n} else if (typeof window !== 'undefined') {\n  module.exports = window\n} else if (typeof global !== 'undefined') {\n  module.exports = global\n} else if (typeof self !== 'undefined') {\n  module.exports = self\n} else {\n  module.exports = {}\n}\n", "const global = require('../util/global')\nconst objectAssign = require('object-assign')\n\nmodule.exports = (opts = {}) => {\n  const Observable = opts.implementation || global.Observable\n  if (!Observable) {\n    throw new Error(\n      '`Observable` is not available in global scope, and no implementation was passed'\n    )\n  }\n\n  return {\n    onReturn: (channels, context) =>\n      new Observable(observer => {\n        channels.error.subscribe(err => observer.error(err))\n        channels.progress.subscribe(event => observer.next(objectAssign({type: 'progress'}, event)))\n        channels.response.subscribe(response => {\n          observer.next(objectAssign({type: 'response'}, response))\n          observer.complete()\n        })\n\n        channels.request.publish(context)\n        return () => channels.abort.publish()\n      })\n  }\n}\n", "/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n", "/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n", "const objectAssign = require('object-assign')\nconst isPlainObject = require('is-plain-object')\n\nconst serializeTypes = ['boolean', 'string', 'number']\nconst isBuffer = obj =>\n  !!obj.constructor &&\n  typeof obj.constructor.isBuffer === 'function' &&\n  obj.constructor.isBuffer(obj)\n\nmodule.exports = () => ({\n  processOptions: options => {\n    const body = options.body\n    if (!body) {\n      return options\n    }\n\n    const isStream = typeof body.pipe === 'function'\n    const shouldSerialize =\n      !isStream &&\n      !isBuffer(body) &&\n      (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body))\n\n    if (!shouldSerialize) {\n      return options\n    }\n\n    return objectAssign({}, options, {\n      body: JSON.stringify(options.body),\n      headers: objectAssign({}, options.headers, {\n        'Content-Type': 'application/json'\n      })\n    })\n  }\n})\n", "const objectAssign = require('object-assign')\n\nmodule.exports = opts => ({\n  onResponse: response => {\n    const contentType = response.headers['content-type'] || ''\n    const shouldDecode = (opts && opts.force) || contentType.indexOf('application/json') !== -1\n    if (!response.body || !contentType || !shouldDecode) {\n      return response\n    }\n\n    return objectAssign({}, response, {body: tryParse(response.body)})\n  },\n\n  processOptions: options =>\n    objectAssign({}, options, {\n      headers: objectAssign({Accept: 'application/json'}, options.headers)\n    })\n})\n\nfunction tryParse(body) {\n  try {\n    return JSON.parse(body)\n  } catch (err) {\n    err.message = `Failed to parsed response body as JSON: ${err.message}`\n    throw err\n  }\n}\n", "module.exports = () => ({\n  onRequest: evt => {\n    if (evt.adapter !== 'xhr') {\n      return\n    }\n\n    const xhr = evt.request\n    const context = evt.context\n\n    if ('upload' in xhr && 'onprogress' in xhr.upload) {\n      xhr.upload.onprogress = handleProgress('upload')\n    }\n\n    if ('onprogress' in xhr) {\n      xhr.onprogress = handleProgress('download')\n    }\n\n    function handleProgress(stage) {\n      return event => {\n        const percent = event.lengthComputable ? (event.loaded / event.total) * 100 : -1\n        context.channels.progress.publish({\n          stage,\n          percent,\n          total: event.total,\n          loaded: event.loaded,\n          lengthComputable: event.lengthComputable\n        })\n      }\n    }\n  }\n})\n", "module.exports = require('./node-progress')\n", "// ISC @ Julien Fontanet\n\n\"use strict\";\n\n// ===================================================================\n\nvar construct = typeof Reflect !== \"undefined\" ? Reflect.construct : undefined;\nvar defineProperty = Object.defineProperty;\n\n// -------------------------------------------------------------------\n\nvar captureStackTrace = Error.captureStackTrace;\nif (captureStackTrace === undefined) {\n  captureStackTrace = function captureStackTrace(error) {\n    var container = new Error();\n\n    defineProperty(error, \"stack\", {\n      configurable: true,\n      get: function getStack() {\n        var stack = container.stack;\n\n        // Replace property with value for faster future accesses.\n        defineProperty(this, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n\n        return stack;\n      },\n      set: function setStack(stack) {\n        defineProperty(error, \"stack\", {\n          configurable: true,\n          value: stack,\n          writable: true,\n        });\n      },\n    });\n  };\n}\n\n// -------------------------------------------------------------------\n\nfunction BaseError(message) {\n  if (message !== undefined) {\n    defineProperty(this, \"message\", {\n      configurable: true,\n      value: message,\n      writable: true,\n    });\n  }\n\n  var cname = this.constructor.name;\n  if (cname !== undefined && cname !== this.name) {\n    defineProperty(this, \"name\", {\n      configurable: true,\n      value: cname,\n      writable: true,\n    });\n  }\n\n  captureStackTrace(this, this.constructor);\n}\n\nBaseError.prototype = Object.create(Error.prototype, {\n  // See: https://github.com/JsCommunity/make-error/issues/4\n  constructor: {\n    configurable: true,\n    value: BaseError,\n    writable: true,\n  },\n});\n\n// -------------------------------------------------------------------\n\n// Sets the name of a function if possible (depends of the JS engine).\nvar setFunctionName = (function() {\n  function setFunctionName(fn, name) {\n    return defineProperty(fn, \"name\", {\n      configurable: true,\n      value: name,\n    });\n  }\n  try {\n    var f = function() {};\n    setFunctionName(f, \"foo\");\n    if (f.name === \"foo\") {\n      return setFunctionName;\n    }\n  } catch (_) {}\n})();\n\n// -------------------------------------------------------------------\n\nfunction makeError(constructor, super_) {\n  if (super_ == null || super_ === Error) {\n    super_ = BaseError;\n  } else if (typeof super_ !== \"function\") {\n    throw new TypeError(\"super_ should be a function\");\n  }\n\n  var name;\n  if (typeof constructor === \"string\") {\n    name = constructor;\n    constructor =\n      construct !== undefined\n        ? function() {\n            return construct(super_, arguments, this.constructor);\n          }\n        : function() {\n            super_.apply(this, arguments);\n          };\n\n    // If the name can be set, do it once and for all.\n    if (setFunctionName !== undefined) {\n      setFunctionName(constructor, name);\n      name = undefined;\n    }\n  } else if (typeof constructor !== \"function\") {\n    throw new TypeError(\"constructor should be either a string or a function\");\n  }\n\n  // Also register the super constructor also as `constructor.super_` just\n  // like Node's `util.inherits()`.\n  //\n  // eslint-disable-next-line dot-notation\n  constructor.super_ = constructor[\"super\"] = super_;\n\n  var properties = {\n    constructor: {\n      configurable: true,\n      value: constructor,\n      writable: true,\n    },\n  };\n\n  // If the name could not be set on the constructor, set it on the\n  // prototype.\n  if (name !== undefined) {\n    properties.name = {\n      configurable: true,\n      value: name,\n      writable: true,\n    };\n  }\n  constructor.prototype = Object.create(super_.prototype, properties);\n\n  return constructor;\n}\nexports = module.exports = makeError;\nexports.BaseError = BaseError;\n", "\"use strict\";\n\nvar makeError = require('make-error');\n\nvar assign = require('object-assign');\n\nfunction ClientError(res) {\n  var props = extractErrorProps(res);\n  ClientError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction ServerError(res) {\n  var props = extractErrorProps(res);\n  ServerError.super.call(this, props.message);\n  assign(this, props);\n}\n\nfunction extractErrorProps(res) {\n  var body = res.body;\n  var props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res)\n  }; // API/Boom style errors ({statusCode, error, message})\n\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  } // Query/database errors ({error: {description, other, arb, props}})\n\n\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  } // Other, more arbitrary errors\n\n\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\n\nfunction httpErrorMessage(res) {\n  var statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : '';\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\n\nfunction stringifyBody(body, res) {\n  var contentType = (res.headers['content-type'] || '').toLowerCase();\n  var isJson = contentType.indexOf('application/json') !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\n\nmakeError(ClientError);\nmakeError(ServerError);\nexports.ClientError = ClientError;\nexports.ServerError = ServerError;", "\"use strict\";\n\nmodule.exports = [];", "\"use strict\";\n\n/* eslint-disable no-empty-function, no-process-env */\nvar getIt = require('get-it');\n\nvar assign = require('object-assign');\n\nvar observable = require('get-it/lib/middleware/observable');\n\nvar jsonRequest = require('get-it/lib/middleware/jsonRequest');\n\nvar jsonResponse = require('get-it/lib/middleware/jsonResponse');\n\nvar progress = require('get-it/lib/middleware/progress');\n\nvar _require = require('../util/observable'),\n    Observable = _require.Observable;\n\nvar _require2 = require('./errors'),\n    ClientError = _require2.ClientError,\n    ServerError = _require2.ServerError;\n\nvar httpError = {\n  onResponse: function onResponse(res) {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n\n    return res;\n  }\n};\nvar printWarnings = {\n  onResponse: function onResponse(res) {\n    var warn = res.headers['x-sanity-warning'];\n    var warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(function (msg) {\n      return console.warn(msg);\n    }); // eslint-disable-line no-console\n\n    return res;\n  }\n}; // Environment-specific middleware.\n\nvar envSpecific = require('./nodeMiddleware');\n\nvar middleware = envSpecific.concat([printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n  implementation: Observable\n})]);\nvar request = getIt(middleware);\n\nfunction httpRequest(options) {\n  var requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n  return requester(assign({\n    maxRedirects: 0\n  }, options));\n}\n\nhttpRequest.defaultRequester = request;\nhttpRequest.ClientError = ClientError;\nhttpRequest.ServerError = ServerError;\nmodule.exports = httpRequest;", "\"use strict\";\n\nvar assign = require('object-assign');\n\nvar projectHeader = 'X-Sanity-Project-ID';\n\nmodule.exports = function (config) {\n  var overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var headers = {};\n  var token = overrides.token || config.token;\n\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n\n  var withCredentials = Boolean(typeof overrides.withCredentials === 'undefined' ? config.token || config.withCredentials : overrides.withCredentials);\n  var timeout = typeof overrides.timeout === 'undefined' ? config.timeout : overrides.timeout;\n  return assign({}, overrides, {\n    headers: assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === 'undefined' ? 5 * 60 * 1000 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials: withCredentials\n  });\n};", "\"use strict\";\n\nvar BASE_URL = 'https://docs.sanity.io/help/';\n\nmodule.exports = function generateHelpUrl(slug) {\n  return BASE_URL + slug;\n};", "\"use strict\";\n\nmodule.exports = function (fn) {\n  var didCall = false;\n  var returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n\n    returnValue = fn.apply(void 0, arguments);\n    didCall = true;\n    return returnValue;\n  };\n};", "\"use strict\";\n\nvar generateHelpUrl = require('./generateHelpUrl');\n\nvar once = require('./util/once');\n\nvar createWarningPrinter = function createWarningPrinter(message) {\n  return (// eslint-disable-next-line no-console\n    once(function () {\n      var _console;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_console = console).warn.apply(_console, [message.join(' ')].concat(args));\n    })\n  );\n};\n\nexports.printCdnWarning = createWarningPrinter(['You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and', \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl('js-client-cdn-configuration'), \".\"), 'To hide this warning, please set the `useCdn` option to either `true` or `false` when creating', 'the client.']);\nexports.printBrowserTokenWarning = createWarningPrinter(['You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.', \"See \".concat(generateHelpUrl('js-client-browser-token'), \" for more information and how to hide this warning.\")]);\nexports.printNoApiVersionSpecifiedWarning = createWarningPrinter(['Using the Sanity client without specifying an API version is deprecated.', \"See \".concat(generateHelpUrl('js-client-api-version'))]);", "\"use strict\";\n\nvar assign = require('object-assign');\n\nvar generateHelpUrl = require('./generateHelpUrl');\n\nvar validate = require('./validators');\n\nvar warnings = require('./warnings');\n\nvar defaultCdnHost = 'apicdn.sanity.io';\nvar defaultConfig = {\n  apiHost: 'https://api.sanity.io',\n  apiVersion: '1',\n  useProjectHostname: true,\n  isPromiseAPI: true\n};\nvar LOCALHOSTS = ['localhost', '127.0.0.1', '0.0.0.0'];\n\nvar isLocal = function isLocal(host) {\n  return LOCALHOSTS.indexOf(host) !== -1;\n};\n\nexports.defaultConfig = defaultConfig; // eslint-disable-next-line complexity\n\nexports.initConfig = function (config, prevConfig) {\n  var specifiedConfig = assign({}, prevConfig, config);\n\n  if (!specifiedConfig.apiVersion) {\n    warnings.printNoApiVersionSpecifiedWarning();\n  }\n\n  var newConfig = assign({}, defaultConfig, specifiedConfig);\n  var projectBased = newConfig.useProjectHostname;\n\n  if (typeof Promise === 'undefined') {\n    var helpUrl = generateHelpUrl('js-client-promise-polyfill');\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n\n  if (projectBased && !newConfig.projectId) {\n    throw new Error('Configuration must contain `projectId`');\n  }\n\n  var isBrowser = typeof window !== 'undefined' && window.location && window.location.hostname;\n  var isLocalhost = isBrowser && isLocal(window.location.hostname);\n\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    warnings.printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === 'undefined') {\n    warnings.printCdnWarning();\n  }\n\n  if (projectBased) {\n    validate.projectId(newConfig.projectId);\n  }\n\n  if (newConfig.dataset) {\n    validate.dataset(newConfig.dataset);\n  }\n\n  if ('requestTagPrefix' in newConfig) {\n    // Allow setting and unsetting request tag prefix\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? validate.requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, '') : undefined;\n  }\n\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, '');\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  exports.validateApiVersion(newConfig.apiVersion);\n  var hostParts = newConfig.apiHost.split('://', 2);\n  var protocol = hostParts[0];\n  var host = hostParts[1];\n  var cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n\n  return newConfig;\n};\n\nexports.validateApiVersion = function validateApiVersion(apiVersion) {\n  if (apiVersion === '1' || apiVersion === 'X') {\n    return;\n  }\n\n  var apiDate = new Date(apiVersion);\n  var apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n\n  if (!apiVersionValid) {\n    throw new Error('Invalid API version string, expected `1` or date in format `YYYY-MM-DD`');\n  }\n};", "\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar assign = require('object-assign');\n\nvar _require = require('./util/observable'),\n    Observable = _require.Observable,\n    map = _require.map,\n    filter = _require.filter;\n\nvar Patch = require('./data/patch');\n\nvar Transaction = require('./data/transaction');\n\nvar dataMethods = require('./data/dataMethods');\n\nvar DatasetsClient = require('./datasets/datasetsClient');\n\nvar ProjectsClient = require('./projects/projectsClient');\n\nvar AssetsClient = require('./assets/assetsClient');\n\nvar UsersClient = require('./users/usersClient');\n\nvar AuthClient = require('./auth/authClient');\n\nvar httpRequest = require('./http/request');\n\nvar getRequestOptions = require('./http/requestOptions');\n\nvar _require2 = require('./config'),\n    defaultConfig = _require2.defaultConfig,\n    initConfig = _require2.initConfig;\n\nvar validate = require('./validators');\n\nvar toPromise = function toPromise(observable) {\n  return observable.toPromise();\n};\n\nfunction SanityClient() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultConfig;\n\n  if (!(this instanceof SanityClient)) {\n    return new SanityClient(config);\n  }\n\n  this.config(config);\n  this.assets = new AssetsClient(this);\n  this.datasets = new DatasetsClient(this);\n  this.projects = new ProjectsClient(this);\n  this.users = new UsersClient(this);\n  this.auth = new AuthClient(this);\n\n  if (this.clientConfig.isPromiseAPI) {\n    var observableConfig = assign({}, this.clientConfig, {\n      isPromiseAPI: false\n    });\n    this.observable = new SanityClient(observableConfig);\n  }\n}\n\nassign(SanityClient.prototype, dataMethods);\nassign(SanityClient.prototype, {\n  clone: function clone() {\n    return new SanityClient(this.config());\n  },\n  config: function config(newConfig) {\n    if (typeof newConfig === 'undefined') {\n      return assign({}, this.clientConfig);\n    }\n\n    if (this.clientConfig && this.clientConfig.allowReconfigure === false) {\n      throw new Error('Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client');\n    }\n\n    if (this.observable) {\n      var observableConfig = assign({}, newConfig, {\n        isPromiseAPI: false\n      });\n      this.observable.config(observableConfig);\n    }\n\n    this.clientConfig = initConfig(newConfig, this.clientConfig || {});\n    return this;\n  },\n  withConfig: function withConfig(newConfig) {\n    return new SanityClient(_objectSpread(_objectSpread({}, this.config()), newConfig));\n  },\n  getUrl: function getUrl(uri) {\n    var useCdn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var base = useCdn ? this.clientConfig.cdnUrl : this.clientConfig.url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, ''));\n  },\n  isPromiseAPI: function isPromiseAPI() {\n    return this.clientConfig.isPromiseAPI;\n  },\n  _requestObservable: function _requestObservable(options) {\n    var _this = this;\n\n    var uri = options.url || options.uri; // If the `canUseCdn`-option is not set we detect it automatically based on the method + URL.\n    // Only the /data endpoint is currently available through API-CDN.\n\n    var canUseCdn = typeof options.canUseCdn === 'undefined' ? ['GET', 'HEAD'].indexOf(options.method || 'GET') >= 0 && uri.indexOf('/data/') === 0 : options.canUseCdn;\n    var useCdn = this.clientConfig.useCdn && canUseCdn;\n    var tag = options.tag && this.clientConfig.requestTagPrefix ? [this.clientConfig.requestTagPrefix, options.tag].join('.') : options.tag || this.clientConfig.requestTagPrefix;\n\n    if (tag) {\n      options.query = _objectSpread({\n        tag: validate.requestTag(tag)\n      }, options.query);\n    }\n\n    var reqOptions = getRequestOptions(this.clientConfig, assign({}, options, {\n      url: this.getUrl(uri, useCdn)\n    }));\n    return new Observable(function (subscriber) {\n      return httpRequest(reqOptions, _this.clientConfig.requester).subscribe(subscriber);\n    });\n  },\n  request: function request(options) {\n    var observable = this._requestObservable(options).pipe(filter(function (event) {\n      return event.type === 'response';\n    }), map(function (event) {\n      return event.body;\n    }));\n\n    return this.isPromiseAPI() ? toPromise(observable) : observable;\n  }\n});\nSanityClient.Patch = Patch;\nSanityClient.Transaction = Transaction;\nSanityClient.ClientError = httpRequest.ClientError;\nSanityClient.ServerError = httpRequest.ServerError;\nSanityClient.requester = httpRequest.defaultRequester;\nmodule.exports = SanityClient;", "const example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg'\n\nexport default function parseAssetId(ref: string) {\n  const [, id, dimensionString, format] = ref.split('-')\n\n  if (!id || !dimensionString || !format) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  const [imgWidthStr, imgHeightStr] = dimensionString.split('x')\n\n  const width = +imgWidthStr\n  const height = +imgHeightStr\n\n  const isValidAssetId = isFinite(width) && isFinite(height)\n  if (!isValidAssetId) {\n    throw new Error(`Malformed asset _ref '${ref}'. Expected an id like \"${example}\".`)\n  }\n\n  return {id, width, height, format}\n}\n", "import {\n  SanityAsset,\n  SanityImageObject,\n  SanityImageSource,\n  SanityImageWithAssetStub,\n  SanityReference,\n} from './types'\n\nconst isRef = (src: SanityImageSource): src is SanityReference => {\n  const source = src as SanityReference\n  return source ? typeof source._ref === 'string' : false\n}\n\nconst isAsset = (src: SanityImageSource): src is SanityAsset => {\n  const source = src as SanityAsset\n  return source ? typeof source._id === 'string' : false\n}\n\nconst isAssetStub = (src: SanityImageSource): src is SanityImageWithAssetStub => {\n  const source = src as SanityImageWithAssetStub\n  return source && source.asset ? typeof source.asset.url === 'string' : false\n}\n\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nexport default function parseSource(source?: SanityImageSource) {\n  if (!source) {\n    return null\n  }\n\n  let image: SanityImageObject\n\n  if (typeof source === 'string' && isUrl(source)) {\n    // Someone passed an existing image url?\n    image = {\n      asset: {_ref: urlToId(source)},\n    }\n  } else if (typeof source === 'string') {\n    // Just an asset id\n    image = {\n      asset: {_ref: source},\n    }\n  } else if (isRef(source)) {\n    // We just got passed an asset directly\n    image = {\n      asset: source,\n    }\n  } else if (isAsset(source)) {\n    // If we were passed an image asset document\n    image = {\n      asset: {\n        _ref: source._id || '',\n      },\n    }\n  } else if (isAssetStub(source)) {\n    // If we were passed a partial asset (`url`, but no `_id`)\n    image = {\n      asset: {\n        _ref: urlToId(source.asset.url),\n      },\n    }\n  } else if (typeof source.asset === 'object') {\n    // Probably an actual image with materialized asset\n    image = {...source}\n  } else {\n    // We got something that does not look like an image, or it is an image\n    // that currently isn't sporting an asset.\n    return null\n  }\n\n  const img = source as SanityImageObject\n  if (img.crop) {\n    image.crop = img.crop\n  }\n\n  if (img.hotspot) {\n    image.hotspot = img.hotspot\n  }\n\n  return applyDefaults(image)\n}\n\nfunction isUrl(url: string) {\n  return /^https?:\\/\\//.test(`${url}`)\n}\n\nfunction urlToId(url: string) {\n  const parts = url.split('/').slice(-1)\n  return `image-${parts[0]}`.replace(/\\.([a-z]+)$/, '-$1')\n}\n\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image: SanityImageObject) {\n  if (image.crop && image.hotspot) {\n    return image as Required<SanityImageObject>\n  }\n\n  // We need to pad in default values for crop or hotspot\n  const result = {...image}\n\n  if (!result.crop) {\n    result.crop = {\n      left: 0,\n      top: 0,\n      bottom: 0,\n      right: 0,\n    }\n  }\n\n  if (!result.hotspot) {\n    result.hotspot = {\n      x: 0.5,\n      y: 0.5,\n      height: 1.0,\n      width: 1.0,\n    }\n  }\n\n  return result as Required<SanityImageObject>\n}\n", "import parseAssetId from './parseAssetId'\nimport parseSource from './parseSource'\nimport {\n  CropSpec,\n  HotspotSpec,\n  ImageUrlBuilderOptions,\n  ImageUrlBuilderOptionsWithAsset,\n  SanityAsset,\n  SanityImageFitResult,\n  SanityImageRect,\n  SanityReference,\n} from './types'\n\nexport const SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n  ['width', 'w'],\n  ['height', 'h'],\n  ['format', 'fm'],\n  ['download', 'dl'],\n  ['blur', 'blur'],\n  ['sharpen', 'sharp'],\n  ['invert', 'invert'],\n  ['orientation', 'or'],\n  ['minHeight', 'min-h'],\n  ['maxHeight', 'max-h'],\n  ['minWidth', 'min-w'],\n  ['maxWidth', 'max-w'],\n  ['quality', 'q'],\n  ['fit', 'fit'],\n  ['crop', 'crop'],\n  ['saturation', 'sat'],\n  ['auto', 'auto'],\n  ['dpr', 'dpr'],\n  ['pad', 'pad'],\n]\n\nexport default function urlForImage(options: ImageUrlBuilderOptions): string {\n  let spec = {...(options || {})}\n  const source = spec.source\n  delete spec.source\n\n  const image = parseSource(source)\n  if (!image) {\n    throw new Error(`Unable to resolve image URL from source (${JSON.stringify(source)})`)\n  }\n\n  const id = (image.asset as SanityReference)._ref || (image.asset as SanityAsset)._id || ''\n  const asset = parseAssetId(id)\n\n  // Compute crop rect in terms of pixel coordinates in the raw source image\n  const cropLeft = Math.round(image.crop.left * asset.width)\n  const cropTop = Math.round(image.crop.top * asset.height)\n  const crop = {\n    left: cropLeft,\n    top: cropTop,\n    width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n    height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop),\n  }\n\n  // Compute hot spot rect in terms of pixel coordinates\n  const hotSpotVerticalRadius = (image.hotspot.height * asset.height) / 2\n  const hotSpotHorizontalRadius = (image.hotspot.width * asset.width) / 2\n  const hotSpotCenterX = image.hotspot.x * asset.width\n  const hotSpotCenterY = image.hotspot.y * asset.height\n  const hotspot = {\n    left: hotSpotCenterX - hotSpotHorizontalRadius,\n    top: hotSpotCenterY - hotSpotVerticalRadius,\n    right: hotSpotCenterX + hotSpotHorizontalRadius,\n    bottom: hotSpotCenterY + hotSpotVerticalRadius,\n  }\n\n  // If irrelevant, or if we are requested to: don't perform crop/fit based on\n  // the crop/hotspot.\n  if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n    spec = {...spec, ...fit({crop, hotspot}, spec)}\n  }\n\n  return specToImageUrl({...spec, asset})\n}\n\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec: ImageUrlBuilderOptionsWithAsset) {\n  const cdnUrl = (spec.baseUrl || 'https://cdn.sanity.io').replace(/\\/+$/, '')\n  const filename = `${spec.asset.id}-${spec.asset.width}x${spec.asset.height}.${spec.asset.format}`\n  const baseUrl = `${cdnUrl}/images/${spec.projectId}/${spec.dataset}/${filename}`\n\n  const params = []\n\n  if (spec.rect) {\n    // Only bother url with a crop if it actually crops anything\n    const {left, top, width, height} = spec.rect\n    const isEffectiveCrop =\n      left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width\n\n    if (isEffectiveCrop) {\n      params.push(`rect=${left},${top},${width},${height}`)\n    }\n  }\n\n  if (spec.bg) {\n    params.push(`bg=${spec.bg}`)\n  }\n\n  if (spec.focalPoint) {\n    params.push(`fp-x=${spec.focalPoint.x}`)\n    params.push(`fp-y=${spec.focalPoint.y}`)\n  }\n\n  const flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('')\n  if (flip) {\n    params.push(`flip=${flip}`)\n  }\n\n  // Map from spec name to url param name, and allow using the actual param name as an alternative\n  SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach((mapping) => {\n    const [specName, param] = mapping\n    if (typeof spec[specName] !== 'undefined') {\n      params.push(`${param}=${encodeURIComponent(spec[specName])}`)\n    } else if (typeof spec[param] !== 'undefined') {\n      params.push(`${param}=${encodeURIComponent(spec[param])}`)\n    }\n  })\n\n  if (params.length === 0) {\n    return baseUrl\n  }\n\n  return `${baseUrl}?${params.join('&')}`\n}\n\nfunction fit(\n  source: {crop: CropSpec; hotspot: HotspotSpec},\n  spec: ImageUrlBuilderOptions\n): SanityImageFitResult {\n  let cropRect: SanityImageRect\n\n  const imgWidth = spec.width\n  const imgHeight = spec.height\n\n  // If we are not constraining the aspect ratio, we'll just use the whole crop\n  if (!(imgWidth && imgHeight)) {\n    return {width: imgWidth, height: imgHeight, rect: source.crop}\n  }\n\n  const crop = source.crop\n  const hotspot = source.hotspot\n\n  // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n  const desiredAspectRatio = imgWidth / imgHeight\n  const cropAspectRatio = crop.width / crop.height\n\n  if (cropAspectRatio > desiredAspectRatio) {\n    // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n    const height = Math.round(crop.height)\n    const width = Math.round(height * desiredAspectRatio)\n    const top = Math.max(0, Math.round(crop.top))\n\n    // Center output horizontally over hotspot\n    const hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left)\n    let left = Math.max(0, Math.round(hotspotXCenter - width / 2))\n\n    // Keep output within crop\n    if (left < crop.left) {\n      left = crop.left\n    } else if (left + width > crop.left + crop.width) {\n      left = crop.left + crop.width - width\n    }\n\n    cropRect = {left, top, width, height}\n  } else {\n    // The crop is taller than the desired ratio, we are cutting from top and bottom\n    const width = crop.width\n    const height = Math.round(width / desiredAspectRatio)\n    const left = Math.max(0, Math.round(crop.left))\n\n    // Center output vertically over hotspot\n    const hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top)\n    let top = Math.max(0, Math.round(hotspotYCenter - height / 2))\n\n    // Keep output rect within crop\n    if (top < crop.top) {\n      top = crop.top\n    } else if (top + height > crop.top + crop.height) {\n      top = crop.top + crop.height - height\n    }\n\n    cropRect = {left, top, width, height}\n  }\n\n  return {\n    width: imgWidth,\n    height: imgHeight,\n    rect: cropRect,\n  }\n}\n\n// For backwards-compatibility\nexport {parseSource}\n", "import {\n  AutoMode,\n  CropMode,\n  FitMode,\n  ImageFormat,\n  ImageUrlBuilderOptions,\n  ImageUrlBuilderOptionsWithAliases,\n  SanityModernClientLike,\n  Orientation,\n  SanityClientLike,\n  SanityImageSource,\n  SanityProjectDetails,\n} from './types'\nimport urlForImage, {SPEC_NAME_TO_URL_NAME_MAPPINGS} from './urlForImage'\n\nconst validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min']\nconst validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy']\nconst validAutoModes = ['format']\n\nfunction isSanityModernClientLike(\n  client?: SanityClientLike | SanityProjectDetails | SanityModernClientLike\n): client is SanityModernClientLike {\n  return client && 'config' in client ? typeof client.config === 'function' : false\n}\n\nfunction isSanityClientLike(\n  client?: SanityClientLike | SanityProjectDetails | SanityModernClientLike\n): client is SanityClientLike {\n  return client && 'clientConfig' in client ? typeof client.clientConfig === 'object' : false\n}\n\nfunction rewriteSpecName(key: string) {\n  const specs = SPEC_NAME_TO_URL_NAME_MAPPINGS\n  for (const entry of specs) {\n    const [specName, param] = entry\n    if (key === specName || key === param) {\n      return specName\n    }\n  }\n\n  return key\n}\n\nexport default function urlBuilder(\n  options?: SanityClientLike | SanityProjectDetails | SanityModernClientLike\n) {\n  // Did we get a modernish client?\n  if (isSanityModernClientLike(options)) {\n    // Inherit config from client\n    const {apiHost: apiUrl, projectId, dataset} = options.config()\n    const apiHost = apiUrl || 'https://api.sanity.io'\n    return new ImageUrlBuilder(null, {\n      baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n      projectId,\n      dataset,\n    })\n  }\n\n  // Did we get a SanityClient?\n  const client = options as SanityClientLike\n  if (isSanityClientLike(client)) {\n    // Inherit config from client\n    const {apiHost: apiUrl, projectId, dataset} = client.clientConfig\n    const apiHost = apiUrl || 'https://api.sanity.io'\n    return new ImageUrlBuilder(null, {\n      baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n      projectId,\n      dataset,\n    })\n  }\n\n  // Or just accept the options as given\n  return new ImageUrlBuilder(null, options as ImageUrlBuilderOptions)\n}\n\nexport class ImageUrlBuilder {\n  public options: ImageUrlBuilderOptions\n\n  constructor(parent: ImageUrlBuilder | null, options: ImageUrlBuilderOptions) {\n    this.options = parent\n      ? {...(parent.options || {}), ...(options || {})} // Merge parent options\n      : {...(options || {})} // Copy options\n  }\n\n  withOptions(options: Partial<ImageUrlBuilderOptionsWithAliases>) {\n    const baseUrl = options.baseUrl || this.options.baseUrl\n\n    const newOptions: {[key: string]: any} = {baseUrl}\n    for (const key in options) {\n      if (options.hasOwnProperty(key)) {\n        const specKey = rewriteSpecName(key)\n        newOptions[specKey] = options[key]\n      }\n    }\n\n    return new ImageUrlBuilder(this, {baseUrl, ...newOptions})\n  }\n\n  // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n  // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n  // studio, the 'image'-document must be provided.\n  image(source: SanityImageSource) {\n    return this.withOptions({source})\n  }\n\n  // Specify the dataset\n  dataset(dataset: string) {\n    return this.withOptions({dataset})\n  }\n\n  // Specify the projectId\n  projectId(projectId: string) {\n    return this.withOptions({projectId})\n  }\n\n  // Specify background color\n  bg(bg: string) {\n    return this.withOptions({bg})\n  }\n\n  // Set DPR scaling factor\n  dpr(dpr: number) {\n    // A DPR of 1 is the default - so only include it if we have a different value\n    return this.withOptions(dpr && dpr !== 1 ? {dpr} : {})\n  }\n\n  // Specify the width of the image in pixels\n  width(width: number) {\n    return this.withOptions({width})\n  }\n\n  // Specify the height of the image in pixels\n  height(height: number) {\n    return this.withOptions({height})\n  }\n\n  // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n  focalPoint(x: number, y: number) {\n    return this.withOptions({focalPoint: {x, y}})\n  }\n\n  maxWidth(maxWidth: number) {\n    return this.withOptions({maxWidth})\n  }\n\n  minWidth(minWidth: number) {\n    return this.withOptions({minWidth})\n  }\n\n  maxHeight(maxHeight: number) {\n    return this.withOptions({maxHeight})\n  }\n\n  minHeight(minHeight: number) {\n    return this.withOptions({minHeight})\n  }\n\n  // Specify width and height in pixels\n  size(width: number, height: number) {\n    return this.withOptions({width, height})\n  }\n\n  // Specify blur between 0 and 100\n  blur(blur: number) {\n    return this.withOptions({blur})\n  }\n\n  sharpen(sharpen: number) {\n    return this.withOptions({sharpen})\n  }\n\n  // Specify the desired rectangle of the image\n  rect(left: number, top: number, width: number, height: number) {\n    return this.withOptions({rect: {left, top, width, height}})\n  }\n\n  // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n  format(format: ImageFormat) {\n    return this.withOptions({format})\n  }\n\n  invert(invert: boolean) {\n    return this.withOptions({invert})\n  }\n\n  // Rotation in degrees 0, 90, 180, 270\n  orientation(orientation: Orientation) {\n    return this.withOptions({orientation})\n  }\n\n  // Compression quality 0-100\n  quality(quality: number) {\n    return this.withOptions({quality})\n  }\n\n  // Make it a download link. Parameter is default filename.\n  forceDownload(download: boolean | string) {\n    return this.withOptions({download})\n  }\n\n  // Flip image horizontally\n  flipHorizontal() {\n    return this.withOptions({flipHorizontal: true})\n  }\n\n  // Flip image vertically\n  flipVertical() {\n    return this.withOptions({flipVertical: true})\n  }\n\n  // Ignore crop/hotspot from image record, even when present\n  ignoreImageParams() {\n    return this.withOptions({ignoreImageParams: true})\n  }\n\n  fit(value: FitMode) {\n    if (validFits.indexOf(value) === -1) {\n      throw new Error(`Invalid fit mode \"${value}\"`)\n    }\n\n    return this.withOptions({fit: value})\n  }\n\n  crop(value: CropMode) {\n    if (validCrops.indexOf(value) === -1) {\n      throw new Error(`Invalid crop mode \"${value}\"`)\n    }\n\n    return this.withOptions({crop: value})\n  }\n\n  // Saturation\n  saturation(saturation: number) {\n    return this.withOptions({saturation})\n  }\n\n  auto(value: AutoMode) {\n    if (validAutoModes.indexOf(value) === -1) {\n      throw new Error(`Invalid auto mode \"${value}\"`)\n    }\n\n    return this.withOptions({auto: value})\n  }\n\n  // Specify the number of pixels to pad the image\n  pad(pad: number) {\n    return this.withOptions({pad})\n  }\n\n  // Gets the url based on the submitted parameters\n  url() {\n    return urlForImage(this.options)\n  }\n\n  // Alias for url()\n  toString() {\n    return this.url()\n  }\n}\n", "function buildQuery(parts, args) {\n  const len = parts.length\n  let query = ''\n  for (let i = 0; i < len; i++) {\n    query += parts[i]\n    if (i < len - 1) {\n      query += JSON.stringify(args[i])\n    }\n  }\n\n  return query\n}\n\nfunction charIsWhiteSpace(char) {\n  return char === ' ' || char === '\\n' || char === '\\t'\n}\n\nfunction minify(groqQuery, ...args) {\n  const query = Array.isArray(groqQuery) ? buildQuery(groqQuery, args) : groqQuery\n  const len = query.length\n  if (len === 0) {\n    return ''\n  }\n\n  let out = ''\n  let pos = 0\n  let inSingle = false\n  let inDouble = false\n\n  do {\n    const prev = query[pos - 1]\n    const char = query[pos]\n    const isWhiteSpace = charIsWhiteSpace(char)\n    const prevWasWhiteSpace = charIsWhiteSpace(prev)\n    pos++\n\n    if (char === '\"' && prev !== '\\\\') {\n      inDouble = !inDouble\n      out += char\n      continue\n    }\n\n    if (char === \"'\" && prev !== '\\\\') {\n      inSingle = !inSingle\n      out += char\n      continue\n    }\n\n    if (inSingle || inDouble) {\n      out += char\n      continue\n    }\n\n    if (isWhiteSpace && prevWasWhiteSpace) {\n      continue\n    }\n\n    out += char\n  } while (pos < len)\n\n  return out.trim()\n}\n\nmodule.exports = minify\n", "import * as Vue from 'vue'\n\nvar isVue2 = false\nvar isVue3 = true\nvar Vue2 = undefined\n\nfunction install() {}\n\nexport function set(target, key, val) {\n  if (Array.isArray(target)) {\n    target.length = Math.max(target.length, key)\n    target.splice(key, 1, val)\n    return val\n  }\n  target[key] = val\n  return val\n}\n\nexport function del(target, key) {\n  if (Array.isArray(target)) {\n    target.splice(key, 1)\n    return\n  }\n  delete target[key]\n}\n\nexport * from 'vue'\nexport {\n  Vue,\n  Vue2,\n  isVue2,\n  isVue3,\n  install,\n}\n", "import { reactive, unref, onServerPrefetch, computed, isRef, watch, getCurrentInstance, set, inject, provide } from 'vue-demi';\nimport sanityClient from '@sanity/client';\nimport imageUrlBuilder from '@sanity/image-url';\nimport minifier from 'minify-groq';\n\nconst cache = reactive({});\nfunction ensureInstance() {\n  const instance = getCurrentInstance();\n  if (!instance)\n    throw new Error(\"You must call this from within a component\");\n  return instance.proxy;\n}\nfunction getServerInstance() {\n  const instance = getCurrentInstance();\n  if (instance == null ? void 0 : instance.proxy.$isServer)\n    return instance.proxy;\n  return false;\n}\nfunction useCache(key, fetcher, options = {}) {\n  const {\n    initialValue = null,\n    deduplicate = false,\n    strategy = \"both\",\n    clientOnly = false\n  } = options;\n  const enableSSR = !clientOnly && strategy !== \"client\";\n  function initialiseCache({\n    key: key2,\n    value,\n    error: error2 = null,\n    status: status2 = \"initialised\",\n    time = new Date().getTime()\n  }) {\n    set(cache, key2, [value, status2, time, error2]);\n  }\n  const serverInstance = getServerInstance();\n  const k = unref(key);\n  if (enableSSR && !serverInstance) {\n    const prefetchState = window.__VSANITY_STATE__ || window.__NUXT__ && window.__NUXT__.vsanity;\n    if (prefetchState && prefetchState[k]) {\n      const [value, status2, time, error2] = prefetchState[k];\n      initialiseCache({\n        key: k,\n        value,\n        status: status2,\n        time,\n        error: error2\n      });\n    }\n  }\n  function verifyKey(key2) {\n    const emptyCache = !(key2 in cache);\n    if (emptyCache)\n      initialiseCache({ key: key2, value: initialValue });\n    return emptyCache || cache[key2][1] === \"initialised\";\n  }\n  function setCache({\n    key: key2,\n    value = ((_a) => (_a = cache[key2]) == null ? void 0 : _a[0])() || initialValue,\n    status: status2 = ((_b) => (_b = cache[key2]) == null ? void 0 : _b[1])(),\n    error: error2 = null,\n    promise = ((_c) => (_c = cache[key2]) == null ? void 0 : _c[4])()\n  }) {\n    if (!(key2 in cache))\n      initialiseCache({ key: key2, value, status: status2 });\n    set(cache[key2], 0, value);\n    set(cache[key2], 1, status2);\n    set(cache[key2], 2, new Date().getTime());\n    set(cache[key2], 3, error2);\n    set(cache[key2], 4, promise);\n  }\n  function fetch(query = unref(key), force) {\n    if (!force && query && cache[query] && cache[query][1] !== \"error\" && (cache[query][0] !== initialValue || cache[query][4] instanceof Promise) && deduplicate && (deduplicate === true || deduplicate < new Date().getTime() - cache[query][2]))\n      return cache[query][4] instanceof Promise ? cache[query][4] : Promise.resolve(cache[query][0]);\n    const promise = fetcher(query);\n    setCache({ key: query, status: \"loading\", promise });\n    promise.then((value) => setCache({\n      key: query,\n      value,\n      status: serverInstance ? \"server loaded\" : \"client loaded\",\n      promise: null\n    })).catch((error2) => setCache({ key: query, status: \"error\", error: error2 }));\n    return promise;\n  }\n  if (enableSSR && serverInstance) {\n    const ctx = serverInstance.$ssrContext;\n    if (ctx) {\n      if (ctx.nuxt && !ctx.nuxt.vsanity) {\n        ctx.nuxt.vsanity = {};\n      } else if (!ctx.vsanity) {\n        ctx.vsanity = {};\n      }\n    }\n    onServerPrefetch(async () => {\n      var _a;\n      const k2 = unref(key);\n      try {\n        await fetch(k2, verifyKey(k2));\n      } catch (e) {\n      }\n      if (ctx && cache[k2] && ![\"loading\", \"initialised\"].includes((_a = cache[k2]) == null ? void 0 : _a[1])) {\n        if (ctx.nuxt) {\n          ctx.nuxt.vsanity[k2] = cache[k2].slice(0, 3);\n        } else {\n          ctx.vsanity[k2] = cache[k2].slice(0, 3);\n        }\n      }\n    });\n  }\n  const data = computed(() => {\n    const k2 = unref(key);\n    if (!k2)\n      return initialValue;\n    verifyKey(k2);\n    return cache[k2] && cache[k2][0];\n  });\n  const status = computed(() => {\n    const k2 = unref(key);\n    if (!k2)\n      return \"server loaded\";\n    verifyKey(k2);\n    return cache[k2][1];\n  });\n  const error = computed(() => {\n    const k2 = unref(key);\n    if (!k2)\n      return null;\n    verifyKey(k2);\n    return cache[k2][3];\n  });\n  if (isRef(key)) {\n    watch(key, (key2) => {\n      if (strategy === \"server\" && status.value === \"server loaded\")\n        return;\n      fetch(key2, verifyKey(key2));\n    }, { immediate: true });\n  } else if (strategy !== \"server\" || status.value !== \"server loaded\") {\n    fetch(key, verifyKey(key));\n  }\n  return {\n    setCache,\n    triggerFetch: fetch,\n    fetch,\n    data,\n    status,\n    error\n  };\n}\n\nconst imageBuilderSymbol = Symbol(\"Sanity image URL builder\");\nfunction useSanityImage(image, options, widths = [300, 600, 1200, 1920]) {\n  const builder = inject(imageBuilderSymbol);\n  if (!builder)\n    throw new Error(\"You must call useSanityClient before using sanity resources in this project.\");\n  function getImageUrl(image2, width, { quality = 82, fit = \"min\" }) {\n    return builder.image(image2.url).width(Math.round(width)).quality(quality).fit(fit).url();\n  }\n  const result = computed(() => ({\n    src: image.value.url,\n    ...image.value.dimensions ? {\n      srcset: [\n        ...widths.map((width) => `${getImageUrl(image.value, width, options || {})} ${width}w`),\n        `${image.value.url} ${image.value.dimensions.width}w`\n      ].join(\", \"),\n      placeholder: \"\"\n    } : {\n      srcset: [\n        ...widths.map((width) => `${getImageUrl(image.value, width, options || {})} ${width}w`)\n      ].join(\", \"),\n      placeholder: \"\"\n    }\n  }));\n  return result;\n}\n\nconst clientSymbol = Symbol(\"Sanity client\");\nconst previewClientSymbol = Symbol(\"Sanity client for previews\");\nconst optionsSymbol = Symbol(\"Default query options\");\nfunction useSanityFetcher(query, initialValue = null, mapper = (result) => result, queryOptions) {\n  const client = inject(clientSymbol);\n  const defaultOptions = inject(optionsSymbol, {});\n  const options = {\n    ...defaultOptions,\n    initialValue,\n    ...queryOptions\n  };\n  if (!client)\n    throw new Error(\"You must call useSanityClient before using sanity resources in this project.\");\n  const computedQuery = typeof query === \"string\" ? minifier(query).replace(/\\n/g, \" \") : computed(() => minifier(query() || \"\").replace(/\\n/g, \" \"));\n  const { data, status, setCache, error, fetch } = useCache(computedQuery, (query2) => query2 ? client.fetch(query2).then(mapper) : Promise.resolve(initialValue), options);\n  if (options.listen) {\n    const previewClient = inject(previewClientSymbol, client);\n    if (\"listen\" in previewClient) {\n      const listenOptions = typeof options.listen === \"boolean\" ? void 0 : options.listen;\n      const subscribe = (query2) => previewClient.listen(query2, listenOptions).subscribe((event) => event.result && setCache({\n        key: query2,\n        value: event.result\n      }));\n      if (isRef(computedQuery)) {\n        watch(computedQuery, (query2) => {\n          const subscription = subscribe(query2);\n          const unwatch = watch(computedQuery, (newQuery) => {\n            if (newQuery !== query2) {\n              subscription.unsubscribe();\n              unwatch();\n            }\n          }, { immediate: true });\n        }, { immediate: true });\n      } else {\n        subscribe(computedQuery);\n      }\n    }\n  }\n  return { data, status, error, fetch };\n}\nfunction useSanityQuery(builder, initialValue = null, mapper = (result) => result, options) {\n  const query = \"use\" in builder ? () => builder.use()[0] : () => builder().use()[0];\n  const type = \"use\" in builder ? builder.use()[1] : builder().use()[1];\n  return useSanityFetcher(query, initialValue || type, mapper, options);\n}\n\nfunction useSanityClient(config, supportPreview = false, defaultOptions = {}) {\n  ensureInstance();\n  const client = sanityClient(config);\n  const imageBuilder = imageUrlBuilder(config);\n  provide(clientSymbol, client);\n  provide(imageBuilderSymbol, imageBuilder);\n  provide(optionsSymbol, defaultOptions);\n  if (supportPreview) {\n    const previewClient = sanityClient({\n      ...config,\n      useCdn: false,\n      token: void 0,\n      withCredentials: true\n    });\n    provide(previewClientSymbol, previewClient);\n  }\n}\nfunction useCustomClient(client, defaultOptions = {}) {\n  ensureInstance();\n  provide(clientSymbol, client);\n  provide(optionsSymbol, defaultOptions);\n}\nfunction fetch(query) {\n  ensureInstance();\n  const client = inject(clientSymbol);\n  if (!client)\n    throw new Error(\"You must call useSanityClient before using sanity resources in this project.\");\n  return client.fetch(query);\n}\n\nexport { fetch, useCache, useCustomClient, useSanityClient, useSanityFetcher, useSanityImage, useSanityQuery };\n"],
  "mappings": "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",
  "names": ["UnsubscriptionErrorImpl", "Subscription", "Subscriber", "SafeSubscriber", "Observable", "FilterOperator", "FilterSubscriber", "MapOperator", "MapSubscriber", "require_observable", "obj", "set", "patch", "global", "setTimeout", "clearTimeout", "XMLHttpRequest", "XDomainRequest", "Promise", "fetch", "AbortController", "codePoint", "octetsCount", "bitsNeeded", "headers", "withCredentials", "exports", "excludeFalsey", "getMutationQuery", "isResponse", "getBody", "indexBy", "toPromise", "fetch", "module", "exports", "middleware", "applyMiddleware", "hook", "defaultValue", "bailEarly", "value", "args", "i", "length", "handler", "set", "objectAssign", "require", "urlParse", "isReactNative", "navigator", "product", "has", "Object", "prototype", "hasOwnProperty", "defaultOptions", "timeout", "module", "exports", "opts", "options", "url", "normalizeTimeout", "query", "removeUndefined", "method", "body", "toUpperCase", "toString", "stringifyQueryString", "obj", "pairs", "key", "call", "push", "length", "join", "val", "Array", "isArray", "forEach", "item", "map", "encodeURIComponent", "time", "connect", "socket", "delay", "Number", "isNaN", "target", "undefined", "validUrl", "module", "exports", "options", "test", "url", "Error", "FetchXhr", "readyState", "prototype", "open", "method", "url", "_method", "_url", "_resHeaders", "onreadystatechange", "abort", "_controller", "getAllResponseHeaders", "setRequestHeader", "key", "value", "_headers", "send", "body", "ctrl", "AbortController", "textBody", "responseType", "options", "headers", "signal", "window", "credentials", "withCredentials", "fetch", "then", "res", "forEach", "status", "statusText", "text", "arrayBuffer", "resBody", "responseText", "response", "catch", "err", "name", "onabort", "onerror", "module", "exports", "sameOrigin", "require", "parseHeaders", "FetchXhr", "noop", "win", "window", "undefined", "adapter", "XmlHttpRequest", "XMLHttpRequest", "hasXhr2", "XDR", "XDomainRequest", "CrossDomainRequest", "module", "exports", "context", "callback", "opts", "options", "applyMiddleware", "timers", "cors", "location", "href", "url", "injectedResponse", "cbTimer", "setTimeout", "cancel", "clearTimeout", "abort", "xhr", "isXdr", "headers", "delays", "timeout", "aborted", "loaded", "timedOut", "onerror", "onError", "ontimeout", "onabort", "stopTimers", "onprogress", "loadEvent", "resetTimers", "readyState", "status", "onLoad", "open", "method", "withCredentials", "setRequestHeader", "key", "hasOwnProperty", "Error", "rawBody", "responseType", "request", "send", "body", "connect", "timeoutRequest", "code", "error", "channels", "publish", "socket", "force", "err", "isNetworkError", "reduceResponse", "statusCode", "statusMessage", "statusText", "response", "responseText", "getAllResponseHeaders", "module", "exports", "require", "pubsub", "require", "middlewareReducer", "processOptions", "validateOptions", "httpRequester", "channelNames", "middlehooks", "module", "exports", "createRequester", "initMiddleware", "httpRequest", "loadedMiddleware", "middleware", "reduce", "ware", "name", "request", "opts", "channels", "target", "applyMiddleware", "options", "context", "ongoingRequest", "unsubscribe", "subscribe", "ctx", "err", "res", "onResponse", "abort", "returnValue", "publish", "reqErr", "error", "response", "use", "newMiddleware", "Error", "onReturn", "length", "forEach", "key", "push", "clone", "globalThis", "module", "exports", "window", "global", "self", "global", "require", "objectAssign", "module", "exports", "opts", "Observable", "implementation", "Error", "onReturn", "channels", "context", "observer", "error", "subscribe", "err", "progress", "event", "next", "type", "response", "complete", "request", "publish", "abort", "objectAssign", "require", "isPlainObject", "serializeTypes", "isBuffer", "obj", "constructor", "module", "exports", "processOptions", "options", "body", "isStream", "pipe", "shouldSerialize", "indexOf", "Array", "isArray", "JSON", "stringify", "headers", "objectAssign", "require", "module", "exports", "opts", "onResponse", "response", "contentType", "headers", "shouldDecode", "force", "indexOf", "body", "tryParse", "processOptions", "options", "Accept", "JSON", "parse", "err", "message", "module", "exports", "onRequest", "evt", "adapter", "xhr", "request", "context", "upload", "onprogress", "handleProgress", "stage", "event", "percent", "lengthComputable", "loaded", "total", "channels", "progress", "publish", "module", "exports", "require", "captureStackTrace", "setFunctionName", "require_request", "createWarningPrinter", "require_config", "isLocal", "toPromise", "example", "parseAssetId", "ref", "split", "id", "dimensionString", "format", "Error", "imgWidthStr", "imgHeightStr", "width", "height", "isValidAssetId", "isFinite", "isRef", "src", "source", "_ref", "isAsset", "_id", "isAssetStub", "asset", "url", "parseSource", "image", "isUrl", "urlToId", "img", "crop", "hotspot", "applyDefaults", "test", "parts", "slice", "replace", "result", "left", "top", "bottom", "right", "x", "y", "SPEC_NAME_TO_URL_NAME_MAPPINGS", "urlForImage", "options", "spec", "JSON", "stringify", "cropLeft", "Math", "round", "cropTop", "hotSpotVerticalRadius", "hotSpotHorizontalRadius", "hotSpotCenterX", "hotSpotCenterY", "rect", "focalPoint", "ignoreImageParams", "fit", "specToImageUrl", "cdnUrl", "baseUrl", "filename", "projectId", "dataset", "params", "isEffectiveCrop", "push", "bg", "flip", "flipHorizontal", "flipVertical", "filter", "Boolean", "join", "forEach", "mapping", "specName", "param", "encodeURIComponent", "length", "cropRect", "imgWidth", "imgHeight", "desiredAspectRatio", "cropAspectRatio", "max", "hotspotXCenter", "hotspotYCenter", "validFits", "validCrops", "validAutoModes", "isSanityModernClientLike", "client", "config", "isSanityClientLike", "clientConfig", "rewriteSpecName", "key", "specs", "entry", "urlBuilder", "apiUrl", "apiHost", "ImageUrlBuilder", "parent", "withOptions", "newOptions", "hasOwnProperty", "specKey", "dpr", "maxWidth", "minWidth", "maxHeight", "minHeight", "size", "blur", "sharpen", "invert", "orientation", "quality", "forceDownload", "download", "value", "indexOf", "saturation", "auto", "pad", "toString", "buildQuery", "parts", "args", "len", "length", "query", "i", "JSON", "stringify", "charIsWhiteSpace", "char", "module", "exports", "groqQuery", "_len", "arguments", "Array", "_key", "isArray", "out", "pos", "inSingle", "inDouble", "prev", "isWhiteSpace", "prevWasWhiteSpace", "trim", "fetch", "minifier", "sanityClient", "imageUrlBuilder"]
}
