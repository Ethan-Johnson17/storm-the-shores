import{d as J,o as j,e as Q,h as k,_ as X,r as H,f as W,g as Y,i as Z,A as T,j as ee,k as te,a as D,b as g,t as P,m as A,p as ne,F as oe}from"./index-Dj-zD7um.js";function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(o){re(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function re(e,t,n){return t=le(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e){var t=ie(e,"string");return typeof t=="symbol"?t:t+""}function ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function R(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function U(e){return R(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function K(e){return e._type==="@list"}function q(e){return e._type==="@span"}function F(e){return e._type==="@text"}const C=["strong","em","code","underline","strike-through"];function se(e,t,n){if(!N(e)||!e.marks)return[];if(!e.marks.length)return[];const o=e.marks.slice(),s={};return o.forEach(r=>{s[r]=1;for(let c=t+1;c<n.length;c++){const d=n[c];if(d&&N(d)&&Array.isArray(d.marks)&&d.marks.indexOf(r)!==-1)s[r]++;else break}}),o.sort((r,c)=>ce(s,r,c))}function ce(e,t,n){const o=e[t],s=e[n];if(o!==s)return s-o;const r=C.indexOf(t),c=C.indexOf(n);return r!==c?r-c:t.localeCompare(n)}function ae(e){var t;const{children:n,markDefs:o=[]}=e;if(!n||!n.length)return[];const s=n.map(se),r={_type:"@span",children:[],markType:"<unknown>"};let c=[r];for(let d=0;d<n.length;d++){const h=n[d];if(!h)continue;const _=s[d]||[];let v=1;if(c.length>1)for(v;v<c.length;v++){const i=((t=c[v])==null?void 0:t.markKey)||"",a=_.indexOf(i);if(a===-1)break;_.splice(a,1)}c=c.slice(0,v);let l=c[c.length-1];if(l){for(const i of _){const a=o.find(y=>y._key===i),f=a?a._type:i,u={_type:"@span",_key:h._key,children:[],markDef:a,markType:f,markKey:i};l.children.push(u),c.push(u),l=u}if(N(h)){const i=h.text.split(`
`);for(let a=i.length;a-- >1;)i.splice(a,0,`
`);l.children=l.children.concat(i.map(a=>({_type:"@text",text:a})))}else l.children=l.children.concat(h)}}return r.children}function ue(e,t){const n=[];let o;for(let s=0;s<e.length;s++){const r=e[s];if(r){if(!U(r)){n.push(r),o=void 0;continue}if(!o){o=O(r,s,t),n.push(o);continue}if(de(r,o)){o.children.push(r);continue}if((r.level||1)>o.level){const c=O(r,s,t);if(t==="html"){const d=o.children[o.children.length-1],h=$($({},d),{},{children:[...d.children,c]});o.children[o.children.length-1]=h}else o.children.push(c);o=c;continue}if((r.level||1)<o.level){const c=n[n.length-1],d=c&&B(c,r);if(d){o=d,o.children.push(r);continue}o=O(r,s,t),n.push(o);continue}if(r.listItem!==o.listItem){const c=n[n.length-1],d=c&&B(c,{level:r.level||1});if(d&&d.listItem===r.listItem){o=d,o.children.push(r);continue}else{o=O(r,s,t),n.push(o);continue}}console.warn("Unknown state encountered for block",r),n.push(r)}}return n}function de(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function O(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function B(e,t){const n=t.level||1,o=t.listItem||"normal",s=typeof t.listItem=="string";if(K(e)&&(e.level||1)===n&&s&&(e.listItem||"normal")===o)return e;if(!("children"in e))return;const r=e.children[e.children.length-1];return r&&!N(r)?B(r,t):void 0}function V(e){let t="";return e.children.forEach(n=>{F(n)?t+=n.text:q(n)&&(t+=V(n))}),t}const pe="html";function fe(e,t){const{block:n,list:o,listItem:s,marks:r,types:c,...d}=t;return{...e,block:w(e,t,"block"),list:w(e,t,"list"),listItem:w(e,t,"listItem"),marks:w(e,t,"marks"),types:w(e,t,"types"),...d}}function w(e,t,n){const o=t[n],s=e[n];return typeof o=="function"||o&&typeof s=="function"?o:o?{...s,...o}:s}const p=e=>(t,{slots:n})=>{var o;return k(e,(o=n.default)==null?void 0:o.call(n))},ye=({value:e},{slots:t})=>{var n;return k("a",{href:e==null?void 0:e.href},(n=t.default)==null?void 0:n.call(t))},me={textDecoration:"underline"},ke={code:p("code"),em:p("em"),link:ye,"strike-through":p("del"),strong:p("strong"),underline:(e,{slots:t})=>{var n;return k("span",{style:me},(n=t.default)==null?void 0:n.call(t))}},he={number:p("ol"),bullet:p("ul")},be=p("li"),x=(e,t)=>`[@portabletext/vue] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,z=e=>x(`block type "${e}"`,"types"),ge=e=>x(`mark type "${e}"`,"marks"),ve=e=>x(`block style "${e}"`,"block"),_e=e=>x(`list style "${e}"`,"list"),Ie=e=>x(`list item style "${e}"`,"listItem");function we(e){console.warn(e)}const L={display:"none"},xe=({value:e,isInline:t})=>{const n=z(e._type);return t?k("span",{style:L},n):k("div",{style:L},n)},Oe=({markType:e},{slots:t})=>{var n;return k("span",{class:`unknown__pt__mark__${e}`},(n=t.default)==null?void 0:n.call(t))},Ne=p("p"),Te=p("ul"),Pe=p("li"),je=()=>k("br"),Be={normal:p("p"),blockquote:p("blockquote"),h1:p("h1"),h2:p("h2"),h3:p("h3"),h4:p("h4"),h5:p("h5"),h6:p("h6")},M={types:{},block:Be,marks:ke,list:he,listItem:be,hardBreak:je,unknownType:xe,unknownMark:Oe,unknownList:Te,unknownListItem:Pe,unknownBlockStyle:Ne},De=(e,t)=>{function n(l){const{node:i,index:a,isInline:f}=l,u=i._key||`node-${a}`;return K(i)?r(i,a,u):U(i)?s(i,a,u):q(i)?c(i,a,u):o(i)?v(i,a,u,f):R(i)?d(i,a,u,f):F(i)?h(i,u):_(i,a,u,f)}function o(l){return l._type in e.types}function s(l,i,a){const f=E({node:l,index:i,isInline:!1,renderNode:n}),u=e.listItem,y=(typeof u=="function"?u:u[l.listItem])||e.unknownListItem;if(y===e.unknownListItem){const b=l.listItem||"bullet";t(Ie(b),{type:b,nodeType:"listItemStyle"})}let m=f.children;if(l.style&&l.style!=="normal"){const{listItem:b,...I}=l;m=n({node:I,index:i,isInline:!1,renderNode:n})}return k(y,{key:a,value:l,index:i,isInline:!1,renderNode:n},()=>m)}function r(l,i,a){const f=l.children.map((m,b)=>n({node:m._key?m:{...m,_key:`li-${i}-${b}`},index:b,isInline:!1,renderNode:n})),u=e.list,y=(typeof u=="function"?u:u[l.listItem])||e.unknownList;if(y===e.unknownList){const m=l.listItem||"bullet";t(_e(m),{nodeType:"listStyle",type:m})}return k(y,{key:a,value:l,index:i,isInline:!1,renderNode:n},()=>f)}function c(l,i,a){const{markDef:f,markType:u,markKey:y}=l,m=e.marks[u]||e.unknownMark,b=l.children.map((I,G)=>n({node:I,index:G,isInline:!0,renderNode:n}));return m===e.unknownMark&&t(ge(u),{nodeType:"mark",type:u}),k(m,{key:a,text:V(l),value:f,markType:u,markKey:y,renderNode:n},()=>b)}function d(l,i,a,f){const{_key:u,children:y,...m}=E({node:l,index:i,isInline:f,renderNode:n}),b=m.node.style||"normal",I=(typeof e.block=="function"?e.block:e.block[b])||e.unknownBlockStyle;return I===e.unknownBlockStyle&&t(ve(b),{nodeType:"blockStyle",type:b}),k(I,{key:a,...m,value:m.node,renderNode:n},()=>y)}function h(l,i){if(l.text===`
`){const a=e.hardBreak;return a?k(a,{key:i}):`
`}return l.text}function _(l,i,a,f){const u={value:l,isInline:f,index:i,renderNode:n};t(z(l._type),{nodeType:"block",type:l._type});const y=e.unknownType;return k(y,{key:a,...u})}function v(l,i,a,f){const u={value:l,isInline:f,index:i,renderNode:n},y=e.types[l._type];return y?k(y,{key:a,...u}):void 0}return n};function E(e){const{node:t,index:n,isInline:o,renderNode:s}=e,r=ae(t).map((c,d)=>s({node:c,isInline:!0,index:d,renderNode:s}));return{_key:t._key||`block-${n}`,children:r,index:n,isInline:o,node:t}}const Ae=J({__name:"vue-portable-text",props:{value:{},components:{},onMissingComponent:{type:[Function,Boolean],default:()=>we},listNestingMode:{}},setup(e){function t(){}const n=e,o=()=>{const s=n.onMissingComponent||t,r=Array.isArray(n.value)?n.value:[n.value],c=ue(r,n.listNestingMode||pe),d=n.components?fe(M,n.components):M,h=De(d,s);return c.map((_,v)=>h({node:_,index:v,isInline:!1,renderNode:h}))};return(s,r)=>(j(),Q(o))}}),Se={components:{PortableText:Ae},setup(){let e=H({}),t=W(),o=`*[_type == "blog" && slug.current == '`+Y().params.slug+`']{
          blogTitle,
          subtitle,
          author,
          category,
          slug,
          content,
          details,
          postImageContent,
          "aboutImageURL": coalesce(aboutImageURL, aboutImage.asset->url)
        }`;return Z(async()=>{if(T.selectedBlog.blogTitle)e.value=T.selectedBlog;else{const{data:s}=await ee(o);for(;!s.value;)await new Promise(r=>setTimeout(r,200));e.value=s.value[0],T.selectedBlog=s.value}}),{blog:e,router:t}}},$e=g("i",{class:"mdi mdi-arrow-left back-arrow fs-5"},null,-1),Ce=g("p",{class:"back-arrow p-0 m-0 ms-1 fs-5"},"All Blogs",-1),Le=[$e,Ce],Me={class:"container"},Ee={class:"row pagePadding"},Re={key:0,class:"col-12"},Ue={class:"text-center py-3"},Ke=["src"],qe={class:"body py-2"},Fe=["src"];function Ve(e,t,n,o,s,r){const c=te("PortableText");return j(),D(oe,null,[g("button",{class:"selectable btn d-flex py-0 mb-2 back-arrow-btn",onClick:t[0]||(t[0]=d=>o.router.push("/blog"))},Le),g("div",Me,[g("div",Ee,[o.blog?(j(),D("div",Re,[g("h1",null,P(o.blog.blogTitle),1),g("h6",null,P(o.blog.author),1),g("div",Ue,[g("img",{src:o.blog.aboutImageURL,alt:""},null,8,Ke)]),g("h2",null,P(o.blog.subtitle),1),g("div",qe,[A(c,{value:o.blog.content,components:{}},null,8,["value"]),g("img",{src:o.blog.secondaryImage,alt:""},null,8,Fe),A(c,{value:o.blog.postImageContent,components:{}},null,8,["value"])])])):ne("",!0)])])],64)}const Ge=X(Se,[["render",Ve]]);export{Ge as default};
