import{e as J,o as j,f as Q,h as g,_ as X,r as H,g as W,i as Y,j as Z,A as T,k as ee,l as te,m as ne,a as D,b as k,t as P,p as A,q as oe,F as re}from"./index--ngaTqyG.js";function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(o){le(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function le(e,t,n){return t=ie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t=se(e,"string");return typeof t=="symbol"?t:t+""}function se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function q(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function K(e){return q(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function F(e){return e._type==="@list"}function V(e){return e._type==="@span"}function R(e){return e._type==="@text"}const C=["strong","em","code","underline","strike-through"];function ce(e,t,n){if(!N(e)||!e.marks)return[];if(!e.marks.length)return[];const o=e.marks.slice(),s={};return o.forEach(r=>{s[r]=1;for(let c=t+1;c<n.length;c++){const u=n[c];if(u&&N(u)&&Array.isArray(u.marks)&&u.marks.indexOf(r)!==-1)s[r]++;else break}}),o.sort((r,c)=>ae(s,r,c))}function ae(e,t,n){const o=e[t],s=e[n];if(o!==s)return s-o;const r=C.indexOf(t),c=C.indexOf(n);return r!==c?r-c:t.localeCompare(n)}function ue(e){var t;const{children:n,markDefs:o=[]}=e;if(!n||!n.length)return[];const s=n.map(ce),r={_type:"@span",children:[],markType:"<unknown>"};let c=[r];for(let u=0;u<n.length;u++){const h=n[u];if(!h)continue;const v=s[u]||[];let _=1;if(c.length>1)for(_;_<c.length;_++){const i=((t=c[_])==null?void 0:t.markKey)||"",a=v.indexOf(i);if(a===-1)break;v.splice(a,1)}c=c.slice(0,_);let l=c[c.length-1];if(l){for(const i of v){const a=o.find(m=>m._key===i),f=a?a._type:i,d={_type:"@span",_key:h._key,children:[],markDef:a,markType:f,markKey:i};l.children.push(d),c.push(d),l=d}if(N(h)){const i=h.text.split(`
`);for(let a=i.length;a-- >1;)i.splice(a,0,`
`);l.children=l.children.concat(i.map(a=>({_type:"@text",text:a})))}else l.children=l.children.concat(h)}}return r.children}function de(e,t){const n=[];let o;for(let s=0;s<e.length;s++){const r=e[s];if(r){if(!K(r)){n.push(r),o=void 0;continue}if(!o){o=O(r,s,t),n.push(o);continue}if(pe(r,o)){o.children.push(r);continue}if((r.level||1)>o.level){const c=O(r,s,t);if(t==="html"){const u=o.children[o.children.length-1],h=$($({},u),{},{children:[...u.children,c]});o.children[o.children.length-1]=h}else o.children.push(c);o=c;continue}if((r.level||1)<o.level){const c=n[n.length-1],u=c&&B(c,r);if(u){o=u,o.children.push(r);continue}o=O(r,s,t),n.push(o);continue}if(r.listItem!==o.listItem){const c=n[n.length-1],u=c&&B(c,{level:r.level||1});if(u&&u.listItem===r.listItem){o=u,o.children.push(r);continue}else{o=O(r,s,t),n.push(o);continue}}console.warn("Unknown state encountered for block",r),n.push(r)}}return n}function pe(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function O(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function B(e,t){const n=t.level||1,o=t.listItem||"normal",s=typeof t.listItem=="string";if(F(e)&&(e.level||1)===n&&s&&(e.listItem||"normal")===o)return e;if(!("children"in e))return;const r=e.children[e.children.length-1];return r&&!N(r)?B(r,t):void 0}function U(e){let t="";return e.children.forEach(n=>{R(n)?t+=n.text:V(n)&&(t+=U(n))}),t}const fe="html";function me(e,t){const{block:n,list:o,listItem:s,marks:r,types:c,...u}=t;return{...e,block:x(e,t,"block"),list:x(e,t,"list"),listItem:x(e,t,"listItem"),marks:x(e,t,"marks"),types:x(e,t,"types"),...u}}function x(e,t,n){const o=t[n],s=e[n];return typeof o=="function"||o&&typeof s=="function"?o:o?{...s,...o}:s}const p=e=>(t,{slots:n})=>{var o;return g(e,(o=n.default)==null?void 0:o.call(n))},ye=({value:e},{slots:t})=>{var n;return g("a",{href:e==null?void 0:e.href},(n=t.default)==null?void 0:n.call(t))},he={textDecoration:"underline"},ke={code:p("code"),em:p("em"),link:ye,"strike-through":p("del"),strong:p("strong"),underline:(e,{slots:t})=>{var n;return g("span",{style:he},(n=t.default)==null?void 0:n.call(t))}},ge={number:p("ol"),bullet:p("ul")},be=p("li"),w=(e,t)=>`[@portabletext/vue] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,z=e=>w(`block type "${e}"`,"types"),ve=e=>w(`mark type "${e}"`,"marks"),_e=e=>w(`block style "${e}"`,"block"),Ie=e=>w(`list style "${e}"`,"list"),xe=e=>w(`list item style "${e}"`,"listItem");function we(e){console.warn(e)}const M={display:"none"},Oe=({value:e,isInline:t})=>{const n=z(e._type);return t?g("span",{style:M},n):g("div",{style:M},n)},Ne=({markType:e},{slots:t})=>{var n;return g("span",{class:`unknown__pt__mark__${e}`},(n=t.default)==null?void 0:n.call(t))},Te=p("p"),Pe=p("ul"),je=p("li"),Be=()=>g("br"),De={normal:p("p"),blockquote:p("blockquote"),h1:p("h1"),h2:p("h2"),h3:p("h3"),h4:p("h4"),h5:p("h5"),h6:p("h6")},E={types:{},block:De,marks:ke,list:ge,listItem:be,hardBreak:Be,unknownType:Oe,unknownMark:Ne,unknownList:Pe,unknownListItem:je,unknownBlockStyle:Te},Ae=(e,t)=>{function n(l){const{node:i,index:a,isInline:f}=l,d=i._key||`node-${a}`;return F(i)?r(i,a,d):K(i)?s(i,a,d):V(i)?c(i,a,d):o(i)?_(i,a,d,f):q(i)?u(i,a,d,f):R(i)?h(i,d):v(i,a,d,f)}function o(l){return l._type in e.types}function s(l,i,a){const f=L({node:l,index:i,isInline:!1,renderNode:n}),d=e.listItem,m=(typeof d=="function"?d:d[l.listItem])||e.unknownListItem;if(m===e.unknownListItem){const b=l.listItem||"bullet";t(xe(b),{type:b,nodeType:"listItemStyle"})}let y=f.children;if(l.style&&l.style!=="normal"){const{listItem:b,...I}=l;y=n({node:I,index:i,isInline:!1,renderNode:n})}return g(m,{key:a,value:l,index:i,isInline:!1,renderNode:n},()=>y)}function r(l,i,a){const f=l.children.map((y,b)=>n({node:y._key?y:{...y,_key:`li-${i}-${b}`},index:b,isInline:!1,renderNode:n})),d=e.list,m=(typeof d=="function"?d:d[l.listItem])||e.unknownList;if(m===e.unknownList){const y=l.listItem||"bullet";t(Ie(y),{nodeType:"listStyle",type:y})}return g(m,{key:a,value:l,index:i,isInline:!1,renderNode:n},()=>f)}function c(l,i,a){const{markDef:f,markType:d,markKey:m}=l,y=e.marks[d]||e.unknownMark,b=l.children.map((I,G)=>n({node:I,index:G,isInline:!0,renderNode:n}));return y===e.unknownMark&&t(ve(d),{nodeType:"mark",type:d}),g(y,{key:a,text:U(l),value:f,markType:d,markKey:m,renderNode:n},()=>b)}function u(l,i,a,f){const{_key:d,children:m,...y}=L({node:l,index:i,isInline:f,renderNode:n}),b=y.node.style||"normal",I=(typeof e.block=="function"?e.block:e.block[b])||e.unknownBlockStyle;return I===e.unknownBlockStyle&&t(_e(b),{nodeType:"blockStyle",type:b}),g(I,{key:a,...y,value:y.node,renderNode:n},()=>m)}function h(l,i){if(l.text===`
`){const a=e.hardBreak;return a?g(a,{key:i}):`
`}return l.text}function v(l,i,a,f){const d={value:l,isInline:f,index:i,renderNode:n};t(z(l._type),{nodeType:"block",type:l._type});const m=e.unknownType;return g(m,{key:a,...d})}function _(l,i,a,f){const d={value:l,isInline:f,index:i,renderNode:n},m=e.types[l._type];return m?g(m,{key:a,...d}):void 0}return n};function L(e){const{node:t,index:n,isInline:o,renderNode:s}=e,r=ue(t).map((c,u)=>s({node:c,isInline:!0,index:u,renderNode:s}));return{_key:t._key||`block-${n}`,children:r,index:n,isInline:o,node:t}}const Se=J({__name:"vue-portable-text",props:{value:{},components:{},onMissingComponent:{type:[Function,Boolean],default:()=>we},listNestingMode:{}},setup(e){function t(){}const n=e,o=()=>{const s=n.onMissingComponent||t,r=Array.isArray(n.value)?n.value:[n.value],c=de(r,n.listNestingMode||fe),u=n.components?me(E,n.components):E,h=Ae(u,s);return c.map((v,_)=>h({node:v,index:_,isInline:!1,renderNode:h}))};return(s,r)=>(j(),Q(o))}}),$e={components:{PortableText:Se},setup(){let e=H({}),t=W(),o=`*[_type == "blog" && slug.current == '`+Y().params.slug+`']{
          blogTitle,
          subtitle,
          author,
          category,
          slug,
          content,
          details,
          postImageContent,
          "aboutImage": aboutImage.asset->url,
          author->{name, "picture": picture.asset->url}
        }`;return Z(async()=>{if(T.selectedBlog.blogTitle)e.value=T.selectedBlog;else{const{data:s}=await ee(o);for(;!s.value;)await new Promise(r=>setTimeout(r,200));e.value=s.value[0],T.selectedBlog=s.value}te.log(e.value)}),{blog:e,router:t}}},Ce=k("i",{class:"mdi mdi-arrow-left back-arrow fs-5"},null,-1),Me=k("p",{class:"back-arrow p-0 m-0 ms-1 fs-5"},"All Blogs",-1),Ee=[Ce,Me],Le={class:"container"},qe={class:"row pagePadding"},Ke={key:0,class:"col-12"},Fe={class:"d-flex align-items-center"},Ve=["src","alt"],Re={class:"text-center py-3"},Ue=["src"],ze={class:"body py-2"},Ge=["src"];function Je(e,t,n,o,s,r){var u,h,v;const c=ne("PortableText");return j(),D(re,null,[k("button",{class:"selectable btn d-flex py-0 mb-2 back-arrow-btn",onClick:t[0]||(t[0]=_=>o.router.push("/blog"))},Ee),k("div",Le,[k("div",qe,[o.blog?(j(),D("div",Ke,[k("h1",null,P(o.blog.blogTitle),1),k("div",Fe,[k("img",{class:"authorPicture me-2",src:(u=o.blog.author)==null?void 0:u.picture,alt:((h=o.blog.author)==null?void 0:h.name)+"'s picture"},null,8,Ve),k("h5",null,P((v=o.blog.author)==null?void 0:v.name),1)]),k("div",Re,[k("img",{src:o.blog.aboutImage,alt:""},null,8,Ue)]),k("h2",null,P(o.blog.subtitle),1),k("div",ze,[A(c,{value:o.blog.content,components:{}},null,8,["value"]),k("img",{src:o.blog.secondaryImage,alt:""},null,8,Ge),A(c,{value:o.blog.postImageContent,components:{}},null,8,["value"])])])):oe("",!0)])])],64)}const Xe=X($e,[["render",Je]]);export{Xe as default};
